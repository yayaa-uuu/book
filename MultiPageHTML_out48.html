<!DOCTYPE html><!--[if IE]>  <html class="stl_ie"> <![endif]-->
<html>
	<head>
		<meta charset="utf-8" />
		<title>
		</title>
		<link rel="stylesheet" type="text/css" href="MultiPageHTML_out_files/style.css" />
	</head>
	<body>
		<div class="stl_ stl_02">
			<div class="stl_03">
				<object data="MultiPageHTML_out_files/img_55.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:42em; height:55.0833em;">
					<embed src="MultiPageHTML_out_files/img_55.svg" type="image/svg+xml" />
				</object>
			</div>
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="left:6em;top:4.3052em;z-index:66;"><span class="stl_155 stl_41 stl_230" style="word-spacing:0.064em;">Availability </span><span class="stl_154 stl_32 stl_97" style="word-spacing:0.0521em;">is being able to respond to customer requests without an error. </span><span class="stl_154 stl_32 stl_105">T</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0491em;">o </span><span class="stl_154 stl_32 stl_28">f</span><span class="stl_154 stl_32 stl_28">rame &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:5.3666em;"><span class="stl_154 stl_32 stl_78" style="word-spacing:0.089em;">this in standard HTTP terms, it may be a response that is a clear-cut success, like a &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:6.4166em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.004em;">200 response code, or a successful acceptance of a request with a promise to finish the &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:7.4666em;"><span class="stl_154 stl_32 stl_120" style="word-spacing:0.1759em;">related work asynchronously, like a 202 accepted. Availability used to be a simple &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:8.5166em;"><span class="stl_154 stl_32 stl_73" style="word-spacing:0.1048em;">metric in the days of monolithic single-host systems. Nowadays, most architectures &nbsp;</span></div>
					<div class="stl_01" style="left:5.9996em;top:9.5666em;"><span class="stl_154 stl_32 stl_35" style="word-spacing:0.0813em;">are a lot more complicated. The concept of availability has also evolved into a more &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:10.6166em;"><span class="stl_154 stl_32 stl_83" style="word-spacing:0.0898em;">nuanced reflection of how distributed systems fail. When attempting to turn availa‐ &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:11.6666em;"><span class="stl_154 stl_32 stl_53" style="word-spacing:0.03em;">bility into an SLI and SLO for your database architecture, consider discussing further &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:12.7166em;"><span class="stl_154 stl_32 stl_140" style="word-spacing:0.0007em;">details (along with examples from our online store), such as the following: &nbsp;</span></div>
					<div class="stl_01" style="left:6.721em;top:14.5999em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.273em;">• When</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0136em;">&nbsp;</span><span class="stl_154 stl_32 stl_73" style="word-spacing:0.0155em;">dealing with inevitable catastrophic failures, what features are nonnegotia‐ &nbsp;</span></div>
					<div class="stl_01" style="left:7.5001em;top:15.6499em;"><span class="stl_154 stl_32 stl_132" style="word-spacing:0.0541em;">ble and what features are “nice to have” (e.g., can customers continue with exist‐ &nbsp;</span></div>
					<div class="stl_01" style="left:7.4996em;top:16.6999em;"><span class="stl_154 stl_32 stl_140" style="word-spacing:0.0222em;">ing shopping carts and check those out but maybe not add new items during this &nbsp;</span></div>
					<div class="stl_01" style="left:7.5em;top:17.7499em;"><span class="stl_154 stl_32 stl_28">failure)? &nbsp;</span></div>
					<div class="stl_01" style="left:6.7215em;top:19.1333em;"><span class="stl_154 stl_32 stl_82" style="word-spacing:0.2851em;">• What</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0205em;">&nbsp;</span><span class="stl_154 stl_32 stl_84" style="word-spacing:0.0187em;">types of failures do we define as “catastrophic” (e.g., failure of listing search &nbsp;</span></div>
					<div class="stl_01" style="left:7.5001em;top:20.1833em;"><span class="stl_154 stl_32 stl_57" style="word-spacing:0.0022em;">might not be catastrophic, but failure of checkout operations would be)? &nbsp;</span></div>
					<div class="stl_01" style="left:6.7216em;top:21.5666em;"><span class="stl_154 stl_32 stl_82" style="word-spacing:0.285em;">• What</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.1174em;">&nbsp;</span><span class="stl_154 stl_32 stl_77" style="word-spacing:0.1142em;">does “degraded functionality” look like (e.g., can we load generic recom‐ &nbsp;</span></div>
					<div class="stl_01" style="left:7.5001em;top:22.6166em;"><span class="stl_154 stl_32 stl_37" style="word-spacing:0.1825em;">mendations instead of customized ones based on past purchase history when &nbsp;</span></div>
					<div class="stl_01" style="left:7.4996em;top:23.6666em;"><span class="stl_154 stl_32 stl_28">needed)? &nbsp;</span></div>
					<div class="stl_01" style="left:6.7211em;top:25.0499em;"><span class="stl_154 stl_32 stl_82" style="word-spacing:0.2855em;">• What</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0296em;">&nbsp;</span><span class="stl_154 stl_32 stl_141" style="word-spacing:0.0209em;">is the shortest possible mean time to recovery (MTTR) we can promise for &nbsp;</span></div>
					<div class="stl_01" style="left:7.5001em;top:26.0999em;"><span class="stl_154 stl_32 stl_78" style="word-spacing:0.1403em;">our core features given a set of probable failure scenarios (e.g., if the database &nbsp;</span></div>
					<div class="stl_01" style="left:7.4996em;top:27.1499em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.2053em;">powering a shopping cart checkout system is failing writes, how fast can we &nbsp;</span></div>
					<div class="stl_01" style="left:7.5em;top:28.1999em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0em;">safely pivot to a new source node)? &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:30.0833em;"><span class="stl_154 stl_32 stl_114" style="word-spacing:0.0431em;">When choosing a set of metrics to represent availability, you want to set expectations &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:31.1333em;"><span class="stl_154 stl_32 stl_48" style="word-spacing:0.0655em;">with your customer support team that “100% uptime” is not reasonable and that the &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:32.1719em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.03em;">focus here is to provide the best customer experience possible in a world </span><span class="stl_155 stl_41 stl_66">understand‐ &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:33.2219em;"><span class="stl_155 stl_41 stl_240" style="word-spacing:0.0195em;">ing and accepting </span><span class="stl_154 stl_32 stl_36" style="word-spacing:0.0038em;">that component failures are inevitable. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:34.7833em;"><span class="stl_154 stl_32 stl_78" style="word-spacing:0.0619em;">The preferred method to verify availability is from a client or remote endpoint. This &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:35.8333em;z-index:1731;"><span class="stl_154 stl_32 stl_54" style="word-spacing:0.0671em;">can be done passively if you have access to a client</span><span class="stl_154 stl_32 stl_34">’</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0631em;">s </span><span class="stl_154 stl_32 stl_28">l</span><span class="stl_154 stl_32 stl_74" style="word-spacing:0.0648em;">ogs for database access. Explic‐ &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:36.8833em;"><span class="stl_154 stl_32 stl_132" style="word-spacing:0.0645em;">itly, this means that if your application is PHP and you run under Apache, you need &nbsp;</span></div>
					<div class="stl_01" style="left:5.9996em;top:37.9333em;"><span class="stl_154 stl_32 stl_83" style="word-spacing:0.0056em;">access to the Apache logs to determine if PHP is emitting any errors for connecting to &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:38.9833em;z-index:1914;"><span class="stl_154 stl_32 stl_39" style="word-spacing:0.0035em;">your database. </span><span class="stl_154 stl_32 stl_109">Y</span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_84" style="word-spacing:0.0045em;">u can also verify availability actively. If your environment is segrega‐ &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:40.0333em;"><span class="stl_154 stl_32 stl_78" style="word-spacing:0.0142em;">ted and you cannot get access to client logs, consider setting up remote code that per‐ &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:41.0833em;"><span class="stl_154 stl_32 stl_78" style="word-spacing:0.0953em;">forms an action on your database to ensure it is available. This could be something &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:42.1827em;"><span class="stl_154 stl_32 stl_33" style="word-spacing:0.1415em;">simple, like a </span><span class="stl_170 stl_171 stl_28" style="word-spacing:0.0104em;">SELECT 1 </span><span class="stl_154 stl_32 stl_38" style="word-spacing:0.142em;">query, which verifies that MySQL is receiving and parsing &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:43.2327em;"><span class="stl_154 stl_32 stl_46" style="word-spacing:0.0352em;">your query but does not access the storage layer. Or this could be more complex, like &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:44.2827em;"><span class="stl_154 stl_32 stl_140" style="word-spacing:0.107em;">reading actual data from a table or executing a write and subsequent read to verify &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:45.3327em;"><span class="stl_154 stl_32 stl_158" style="word-spacing:0.0107em;">the write was successful. This kind of synthetic transaction from elsewhere in the net‐ &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:46.3827em;"><span class="stl_154 stl_32 stl_35" style="word-spacing:0.0029em;">work can give you perspective into whether your application is available. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">26 &nbsp;</span></div>
					<div class="stl_01" style="left:7.3619em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">|</span></div>
					<div class="stl_01" style="left:8.2694em;top:50.8098em;"><span class="stl_80 stl_27 stl_28" style="word-spacing:0em;">Chapter 2: Monitoring in a Reliability Engineering World &nbsp;</span></div>
					<a name="48_0" style="position:absolute;left:0em;top:4.5458em;">&nbsp;</a>
				</div>
			</div>
		</div>
	</body>
</html>