<!DOCTYPE html><!--[if IE]>  <html class="stl_ie"> <![endif]-->
<html>
	<head>
		<meta charset="utf-8" />
		<title>
		</title>
		<link rel="stylesheet" type="text/css" href="MultiPageHTML_out_files/style.css" />
	</head>
	<body>
		<div class="stl_ stl_02">
			<div class="stl_03">
				<object data="MultiPageHTML_out_files/img_283.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:42em; height:55.0833em;">
					<embed src="MultiPageHTML_out_files/img_283.svg" type="image/svg+xml" />
				</object>
			</div>
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="left:6em;top:4.3166em;"><span class="stl_154 stl_32 stl_72" style="word-spacing:0.0718em;">An unplanned promotion is not a very practiced event—that is, you don’t do it very &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:5.3666em;"><span class="stl_154 stl_32 stl_57" style="word-spacing:0.024em;">often. When you are called upon to do it, you may need to look up documentation to &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:6.4166em;z-index:167;"><span class="stl_154 stl_32 stl_257" style="word-spacing:0.1794em;">make sure you don’t miss a step. </span><span class="stl_154 stl_32 stl_109">Y</span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.1642em;">u also have to inspect other replicas to verify &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:7.4666em;"><span class="stl_154 stl_32 stl_57" style="word-spacing:0.087em;">which is the likely candidate. All of this takes time. In some cases, it may simply be &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:8.5166em;"><span class="stl_154 stl_32 stl_122" style="word-spacing:0.1224em;">faster for you to wait for your server or MySQL process to come back online. The &nbsp;</span></div>
					<div class="stl_01" style="left:5.9996em;top:9.5666em;"><span class="stl_154 stl_32 stl_48" style="word-spacing:0.0457em;">advantage of this is that if you followed the steps for ACID compliance in </span><a href="MultiPageHTML_out121.html#121_0"><span class="stl_184 stl_32 stl_24" style="word-spacing:0.0475em;">Chapter 5</span></a><span class="stl_154 stl_32 stl_24" style="word-spacing:0.0475em;">, &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:10.6166em;"><span class="stl_154 stl_32 stl_99" style="word-spacing:0.0063em;">you didn’t lose any data, and your replicas will pick up where things left off. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0006em;top:12.5131em;"><span class="stl_159 stl_27 stl_28" style="word-spacing:0em;">Replication Topologies &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:14.7833em;z-index:499;"><span class="stl_154 stl_32 stl_109">Y</span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_39" style="word-spacing:0.0469em;">u can set up MySQL replication for almost any configuration of sources and repli‐ &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:15.8333em;"><span class="stl_154 stl_32 stl_95" style="word-spacing:0.0017em;">cas. Many complex topologies are possible, but even the simple ones can be very flexi‐ &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:16.8833em;"><span class="stl_154 stl_32 stl_73" style="word-spacing:0.0524em;">ble. A single topology can have many different uses. The variety of ways you can use &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:17.9333em;"><span class="stl_154 stl_32 stl_53" style="word-spacing:0.0013em;">replication could easily fill its own book. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:19.4833em;"><span class="stl_154 stl_32 stl_87" style="word-spacing:0.0788em;">All of this flexibility means you can easily design a topology that is unmaintainable. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:20.5333em;z-index:820;"><span class="stl_154 stl_32 stl_52" style="word-spacing:0.2045em;">We </span><span class="stl_154 stl_32 stl_28">h</span><span class="stl_154 stl_32 stl_158" style="word-spacing:0.011em;">ighly recommend you keep your replication topology as simple as possible while &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:21.5833em;"><span class="stl_154 stl_32 stl_39" style="word-spacing:0.0911em;">still meeting your needs. With that said, we recommend two possible strategies that &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:22.6333em;z-index:991;"><span class="stl_154 stl_32 stl_141" style="word-spacing:0.1216em;">should cover nearly every use case. </span><span class="stl_154 stl_32 stl_109">Y</span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_54" style="word-spacing:0.1279em;">u may have valid reasons for deviating from &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:23.6833em;"><span class="stl_154 stl_32 stl_39" style="word-spacing:0.0826em;">these, but make sure you ask yourself if you’re still solving the right problems when &nbsp;</span></div>
					<div class="stl_01" style="left:5.9996em;top:24.7333em;"><span class="stl_154 stl_32 stl_97" style="word-spacing:0.0029em;">you go more complex. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:26.6176em;"><span class="stl_180 stl_27 stl_28">Active/Passive &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:28.5174em;z-index:1204;"><span class="stl_154 stl_32 stl_35" style="word-spacing:0.028em;">In an active/passive topology, you direct all reads and writes to a single source server. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:29.5674em;"><span class="stl_154 stl_32 stl_24" style="word-spacing:0.1547em;">Additionally, you maintain a small number of passive replicas that do not actively &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:30.6174em;"><span class="stl_154 stl_32 stl_122" style="word-spacing:0.0071em;">serve any application traffic. The primary reason for choosing this model is when you &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:31.6674em;"><span class="stl_154 stl_32 stl_114" style="word-spacing:0.0051em;">don’t want to worry about replication lag. Since all reads go to the source, you prevent &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:32.7174em;"><span class="stl_154 stl_32 stl_143" style="word-spacing:0.0056em;">any read-after-write problems that an application may not tolerate. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:34.2674em;"><a href="MultiPageHTML_out263.html#263_2"><span class="stl_184 stl_32 stl_28" style="word-spacing:0em;">Figure 9-4 </span></a><span class="stl_154 stl_32 stl_57" style="word-spacing:0.0022em;">shows this arrangement with multiple replicas. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:46.4019em;"><span class="stl_155 stl_41 stl_226" style="word-spacing:0.0155em;">Figure 9-4. A source with multiple replicas &nbsp;</span></div>
					<div class="stl_01" style="left:27.8358em;top:50.8098em;"><span class="stl_80 stl_27 stl_28" style="word-spacing:0em;">Replication Topologies &nbsp;</span></div>
					<div class="stl_01" style="left:34.1748em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">|</span></div>
					<div class="stl_01" style="left:35.0823em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">241 &nbsp;</span></div>
					<a name="263_0" style="position:absolute;left:0em;top:12.8647em;">&nbsp;</a>
					<a name="263_1" style="position:absolute;left:0em;top:26.9107em;">&nbsp;</a>
					<a name="263_2" style="position:absolute;left:0em;top:35.9591em;">&nbsp;</a>
					<a name="263_3" style="position:absolute;left:0em;top:28.7466em;">&nbsp;</a>
					<a name="263_4" style="position:absolute;left:0em;top:10.8458em;">&nbsp;</a>
					<a name="263_5" style="position:absolute;left:0em;top:15.0125em;">&nbsp;</a>
				</div>
			</div>
		</div>
	</body>
</html>