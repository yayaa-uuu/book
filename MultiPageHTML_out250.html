<!DOCTYPE html><!--[if IE]>  <html class="stl_ie"> <![endif]-->
<html>
	<head>
		<meta charset="utf-8" />
		<title>
		</title>
		<link rel="stylesheet" type="text/css" href="MultiPageHTML_out_files/style.css" />
	</head>
	<body>
		<div class="stl_ stl_02">
			<div class="stl_03">
				<object data="MultiPageHTML_out_files/img_266.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:42em; height:55.0833em;">
					<embed src="MultiPageHTML_out_files/img_266.svg" type="image/svg+xml" />
				</object>
			</div>
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="left:6em;top:4.3166em;"><span class="stl_154 stl_32 stl_100" style="word-spacing:0.1023em;">one where the replica’s copy of data is not guaranteed to be up-to-date at any given &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:5.3666em;"><span class="stl_154 stl_32 stl_46" style="word-spacing:0.0452em;">instant. Replica lag—the delay between real time and what is represented on the rep‐ &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:6.4166em;"><span class="stl_154 stl_32 stl_158" style="word-spacing:0.07em;">lica—has no upper bound. Large queries can make the replica fall seconds, minutes, &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:7.4666em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0em;">or even hours behind the source. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:9.0166em;z-index:245;"><span class="stl_154 stl_32 stl_93">MySQ</span><span class="stl_154 stl_32 stl_94">L</span><span class="stl_154 stl_32 stl_34" style="word-spacing:0.2337em;">’s </span><span class="stl_154 stl_32 stl_28">r</span><span class="stl_154 stl_32 stl_95" style="word-spacing:0.0455em;">eplication is mostly backward compatible—that is, a newer server can usu‐ &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:10.0666em;"><span class="stl_154 stl_32 stl_57" style="word-spacing:0.1286em;">ally be a replica of an older server without trouble. However, older versions of the &nbsp;</span></div>
					<div class="stl_01" style="left:5.9996em;top:11.1166em;"><span class="stl_154 stl_32 stl_37" style="word-spacing:0.125em;">server are often unable to act as replicas of newer versions: they might not under‐ &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:12.1666em;"><span class="stl_154 stl_32 stl_88" style="word-spacing:0.1017em;">stand new features or SQL syntax the newer server uses, and there might be differ‐ &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:13.2166em;"><span class="stl_154 stl_32 stl_55" style="word-spacing:0.1906em;">ences in the file formats replication uses. For example, you can’t replicate from a &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:14.2666em;"><span class="stl_154 stl_32 stl_85" style="word-spacing:0.1396em;">MySQL 5.6 source to a MySQL 5.5 replica. It’s a good idea to test your replication &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:15.3166em;"><span class="stl_154 stl_32 stl_97" style="word-spacing:0.0116em;">setup before upgrading from one major or minor version to another, such as from 5.6 &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:16.3666em;"><span class="stl_154 stl_32 stl_74" style="word-spacing:0.0852em;">to 5.7 or 5.7 to 8.0. Upgrades within a minor version, such as from 5.7.34 to 5.7.35, &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:17.4166em;"><span class="stl_154 stl_32 stl_73" style="word-spacing:0.0137em;">are expected to be compatible; read the release notes to find out exactly what changed &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:18.4666em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0em;">from version to version. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:20.0166em;"><span class="stl_154 stl_32 stl_53" style="word-spacing:0.0548em;">Replication is relatively good for scaling reads, which you can direct to a replica, but &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:21.0666em;"><span class="stl_154 stl_32 stl_162" style="word-spacing:0.0575em;">it’s not a good way to scale writes unless you design it right. Attaching many replicas &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:22.1166em;"><span class="stl_154 stl_32 stl_83" style="word-spacing:0.0138em;">to a source simply causes the writes to be done many times, once on each replica. The &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:23.1666em;"><span class="stl_154 stl_32 stl_78" style="word-spacing:0.0015em;">entire system is limited to the number of writes the weakest part can perform. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:24.7166em;"><span class="stl_154 stl_32 stl_46" style="word-spacing:0.0025em;">Here are some of the more common uses for replication: &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:26.3386em;"><span class="stl_155 stl_41 stl_98" style="word-spacing:0.015em;">Data distribution &nbsp;</span></div>
					<div class="stl_01" style="left:7.5004em;top:27.3999em;z-index:1232;"><span class="stl_154 stl_32 stl_93">MySQ</span><span class="stl_154 stl_32 stl_94">L</span><span class="stl_154 stl_32 stl_34" style="word-spacing:0.288em;">’s </span><span class="stl_154 stl_32 stl_28">r</span><span class="stl_154 stl_32 stl_158" style="word-spacing:0.0987em;">eplication is usually not very bandwidth intensive, although, as you’ll &nbsp;</span></div>
					<div class="stl_01" style="left:7.4999em;top:28.4499em;"><span class="stl_154 stl_32 stl_84" style="word-spacing:0.0231em;">see later, the row-based replication can use much more bandwidth than the more &nbsp;</span></div>
					<div class="stl_01" style="left:7.5003em;top:29.4999em;z-index:1401;"><span class="stl_154 stl_32 stl_77" style="word-spacing:0.046em;">traditional statement-based replication. </span><span class="stl_154 stl_32 stl_109">Y</span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_97" style="word-spacing:0.0458em;">u can also stop and start replication at &nbsp;</span></div>
					<div class="stl_01" style="left:7.4998em;top:30.5499em;"><span class="stl_154 stl_32 stl_43" style="word-spacing:0.0514em;">will. Thus, it’s useful for maintaining a copy of your data in a geographically dis‐ &nbsp;</span></div>
					<div class="stl_01" style="left:7.5002em;top:31.5999em;"><span class="stl_154 stl_32 stl_54" style="word-spacing:0.0738em;">tant location, such as a different data center or cloud region. The distant replica &nbsp;</span></div>
					<div class="stl_01" style="left:7.4997em;top:32.6499em;z-index:1606;"><span class="stl_154 stl_32 stl_36" style="word-spacing:0.0581em;">can even work with a connection that</span><span class="stl_154 stl_32 stl_34">’</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0542em;">s </span><span class="stl_154 stl_32 stl_28">i</span><span class="stl_154 stl_32 stl_35" style="word-spacing:0.057em;">ntermittent (intentionally or otherwise). &nbsp;</span></div>
					<div class="stl_01" style="left:7.5001em;top:33.6999em;"><span class="stl_154 stl_32 stl_84" style="word-spacing:0.0408em;">However, if you want your replicas to have very low replication lag, you’ll need a &nbsp;</span></div>
					<div class="stl_01" style="left:7.5004em;top:34.7499em;"><span class="stl_154 stl_32 stl_95" style="word-spacing:0.0019em;">stable, low-latency link. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:36.3719em;"><span class="stl_155 stl_41 stl_45" style="word-spacing:0.0184em;">Scaling read </span><span class="stl_216 stl_41 stl_28">trwﬃc &nbsp;</span></div>
					<div class="stl_01" style="left:7.5004em;top:37.4333em;"><span class="stl_154 stl_32 stl_140" style="word-spacing:0.1472em;">MySQL replication can help you distribute read queries across several servers, &nbsp;</span></div>
					<div class="stl_01" style="left:7.4999em;top:38.4833em;z-index:1870;"><span class="stl_154 stl_32 stl_78" style="word-spacing:0.0323em;">which works very well for read-intensive applications. </span><span class="stl_154 stl_32 stl_109">Y</span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.031em;">u can do basic load bal‐ &nbsp;</span></div>
					<div class="stl_01" style="left:7.5003em;top:39.5333em;"><span class="stl_154 stl_32 stl_74" style="word-spacing:0.0755em;">ancing with a few simple code changes. On a small scale, you can use simplistic &nbsp;</span></div>
					<div class="stl_01" style="left:7.4998em;top:40.5833em;"><span class="stl_154 stl_32 stl_78" style="word-spacing:0.0908em;">approaches such as hardcoded hostnames or round-robin DNS (which points a &nbsp;</span></div>
					<div class="stl_01" style="left:7.5002em;top:41.6333em;z-index:2056;"><span class="stl_154 stl_32 stl_53" style="word-spacing:0.0709em;">single hostname to multiple IP addresses). </span><span class="stl_154 stl_32 stl_109">Y</span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_74" style="word-spacing:0.0713em;">u can also take more sophisticated &nbsp;</span></div>
					<div class="stl_01" style="left:7.4997em;top:42.6833em;"><span class="stl_154 stl_32 stl_158" style="word-spacing:0.107em;">approaches. Standard load-balancing solutions, such as network load-balancing &nbsp;</span></div>
					<div class="stl_01" style="left:7.5001em;top:43.7333em;"><span class="stl_154 stl_32 stl_122" style="word-spacing:0.0001em;">products, can work well for distributing reads among MySQL servers. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:45.3552em;"><span class="stl_155 stl_41 stl_149">Backups &nbsp;</span></div>
					<div class="stl_01" style="left:7.5001em;top:46.4166em;"><span class="stl_154 stl_32 stl_36" style="word-spacing:0.0697em;">Replication is a valuable technique for helping with backups. However, a replica &nbsp;</span></div>
					<div class="stl_01" style="left:7.4996em;top:47.4666em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0em;">is neither a backup nor a substitute for backups. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">228 &nbsp;</span></div>
					<div class="stl_01" style="left:7.6683em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">|</span></div>
					<div class="stl_01" style="left:8.5758em;top:50.8098em;"><span class="stl_80 stl_27 stl_28" style="word-spacing:0em;">Chapter 9: Replication &nbsp;</span></div>
					<a name="250_0" style="position:absolute;left:0em;top:46.6458em;">&nbsp;</a>
					<a name="250_1" style="position:absolute;left:0em;top:27.6292em;">&nbsp;</a>
					<a name="250_2" style="position:absolute;left:0em;top:37.6625em;">&nbsp;</a>
					<a name="250_3" style="position:absolute;left:0em;top:24.9458em;">&nbsp;</a>
				</div>
			</div>
		</div>
	</body>
</html>