<!DOCTYPE html><!--[if IE]>  <html class="stl_ie"> <![endif]-->
<html>
	<head>
		<meta charset="utf-8" />
		<title>
		</title>
		<link rel="stylesheet" type="text/css" href="MultiPageHTML_out_files/style.css" />
	</head>
	<body>
		<div class="stl_ stl_02">
			<div class="stl_03">
				<object data="MultiPageHTML_out_files/img_372.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:42em; height:55.0833em;">
					<embed src="MultiPageHTML_out_files/img_372.svg" type="image/svg+xml" />
				</object>
			</div>
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="left:11.3992em;top:4.3287em;"><span class="stl_176 stl_32 stl_95" style="word-spacing:0.0962em;">As CPU usage or core count increases, so does context switching: &nbsp;</span></div>
					<div class="stl_01" style="left:11.3992em;top:5.2887em;"><span class="stl_176 stl_32 stl_36" style="word-spacing:0.0753em;">the act of switching tasks on the CPU. Because of this, you do not &nbsp;</span></div>
					<div class="stl_01" style="left:11.3993em;top:6.2487em;"><span class="stl_176 stl_32 stl_33" style="word-spacing:0.088em;">want to run at 100% CPU capacity because you will waste a lot of &nbsp;</span></div>
					<div class="stl_01" style="left:11.3993em;top:7.2087em;"><span class="stl_176 stl_32 stl_140" style="word-spacing:0.0559em;">time switching between threads. This will manifest itself as latency &nbsp;</span></div>
					<div class="stl_01" style="left:11.3993em;top:8.1687em;z-index:237;"><span class="stl_176 stl_32 stl_28" style="word-spacing:0.0123em;">for your queries. </span><span class="stl_176 stl_32 stl_52">W</span><span class="stl_176 stl_32 stl_28" style="word-spacing:0.0123em;">e </span><span class="stl_176 stl_32 stl_28">r</span><span class="stl_176 stl_32 stl_53" style="word-spacing:0.0135em;">ecommend a target of 50% typical utilization, &nbsp;</span></div>
					<div class="stl_01" style="left:11.3994em;top:9.1287em;"><span class="stl_176 stl_32 stl_33" style="word-spacing:0.0219em;">with peaks up to 65%–70%. If you sustain 70% CPU or greater, you &nbsp;</span></div>
					<div class="stl_01" style="left:11.3994em;top:10.0887em;"><span class="stl_176 stl_32 stl_140" style="word-spacing:0.2063em;">will likely see latency increase, and you should consider adding &nbsp;</span></div>
					<div class="stl_01" style="left:11.3994em;top:11.0487em;"><span class="stl_176 stl_32 stl_257" style="word-spacing:0.0151em;">more CPUs. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:13.2466em;"><span class="stl_154 stl_32 stl_194" style="word-spacing:0.1663em;">Also pay attention to the CPU chip family, if that’s an option. If you’re running a &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:14.2966em;"><span class="stl_154 stl_32 stl_24" style="word-spacing:0.0341em;">high-traffic web application, you may want to ensure that you have a much later gen‐ &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:15.3466em;"><span class="stl_154 stl_32 stl_46" style="word-spacing:0.1993em;">eration of chip available. Likewise, if you are looking at backend data processing &nbsp;</span></div>
					<div class="stl_01" style="left:5.9996em;top:16.3966em;"><span class="stl_154 stl_32 stl_48" style="word-spacing:0.0528em;">where older, slightly slower CPU chip families could be fine, that could possibly be a &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:17.4466em;"><span class="stl_154 stl_32 stl_48" style="word-spacing:0.0036em;">cost savings. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:19.5035em;"><span class="stl_193 stl_27 stl_28">Memory &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:20.9709em;"><span class="stl_154 stl_32 stl_57" style="word-spacing:0.0022em;">As discussed in Chapters </span><a href="MultiPageHTML_out23.html#23_0"><span class="stl_184 stl_32 stl_28" style="word-spacing:0em;">1 </span></a><span class="stl_154 stl_32 stl_28" style="word-spacing:0em;">and </span><a href="MultiPageHTML_out97.html#97_0"><span class="stl_184 stl_32 stl_28">4</span></a><span class="stl_154 stl_32 stl_97" style="word-spacing:0.0031em;">, RAM can greatly influence MySQL performance. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:22.5209em;"><span class="stl_154 stl_32 stl_78" style="word-spacing:0.177em;">Choose whatever machine spec best fits your needs for your working set of data, &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:23.5709em;"><span class="stl_154 stl_32 stl_88" style="word-spacing:0.001em;">while erring on the side of too much RAM instead of not enough. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:25.6279em;"><span class="stl_193 stl_27 stl_28" style="word-spacing:0em;">Network performance &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:27.0953em;"><span class="stl_154 stl_32 stl_87" style="word-spacing:0.0583em;">While CPU and memory sizing are the most important parts of choosing a machine &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:28.1453em;"><span class="stl_154 stl_32 stl_53" style="word-spacing:0.1742em;">type, make sure you also review the available network performance limitations to &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:29.1953em;"><span class="stl_154 stl_32 stl_51" style="word-spacing:0.0649em;">ensure that you don’t starve your applications. For example, if you have a batch pro‐ &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:30.2453em;"><span class="stl_154 stl_32 stl_72" style="word-spacing:0.0795em;">cess that will read large amounts of data, you may find that you exhaust your band‐ &nbsp;</span></div>
					<div class="stl_01" style="left:5.9996em;top:31.2953em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0em;">width on a smaller machine type. &nbsp;</span></div>
					<div class="stl_01" style="left:11.3992em;top:33.6074em;"><span class="stl_176 stl_32 stl_17" style="word-spacing:0.2485em;">It’s worth noting that network egress between cloud zones and &nbsp;</span></div>
					<div class="stl_01" style="left:11.3992em;top:34.5674em;"><span class="stl_176 stl_32 stl_88" style="word-spacing:0.1545em;">regions usually has a cost associated with it. This can come as a &nbsp;</span></div>
					<div class="stl_01" style="left:11.3992em;top:35.5274em;z-index:1346;"><span class="stl_176 stl_32 stl_78" style="word-spacing:0.0101em;">surprise when setting up replicas, but we still think it</span><span class="stl_176 stl_32 stl_34">’</span><span class="stl_176 stl_32 stl_28" style="word-spacing:0.0086em;">s </span><span class="stl_176 stl_32 stl_28">i</span><span class="stl_176 stl_32 stl_85" style="word-spacing:0.0181em;">mportant to &nbsp;</span></div>
					<div class="stl_01" style="left:11.3992em;top:36.4874em;"><span class="stl_176 stl_32 stl_88" style="word-spacing:0.0009em;">place replicas in separate zones for redundancy purposes. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:38.894em;"><span class="stl_180 stl_27 stl_28" style="word-spacing:0em;">Choosing the Right Disk Type &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:40.7937em;"><span class="stl_154 stl_32 stl_158" style="word-spacing:0.0316em;">Although machine types are generally dynamic, the selection you make for data stor‐ &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:41.8437em;"><span class="stl_154 stl_32 stl_39" style="word-spacing:0.0098em;">age will likely be your most complicated decision. Once you’ve chosen a disk type and &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:42.8937em;z-index:1645;"><span class="stl_154 stl_32 stl_143" style="word-spacing:0.1398em;">started to use it for data, moving to another disk type becomes difficult. Typically, &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:43.9437em;z-index:1649;"><span class="stl_154 stl_32 stl_86">you</span><span class="stl_154 stl_32 stl_161">’</span><span class="stl_154 stl_32 stl_103" style="word-spacing:0.0563em;">d need to mount a second disk and copy the data over. It’s not impossible to cor‐ &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:44.9937em;"><span class="stl_154 stl_32 stl_97" style="word-spacing:0.003em;">rect, but it certainly is more involved than just a quick reboot to add more CPUs. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:46.5437em;"><span class="stl_154 stl_32 stl_78" style="word-spacing:0.1293em;">Picking the correct disk type is also highly context sensitive to what workload you &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:47.5937em;"><span class="stl_154 stl_32 stl_37" style="word-spacing:0.0493em;">expect to run. Highly read-intensive workloads will benefit from more memory over &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">320 &nbsp;</span></div>
					<div class="stl_01" style="left:7.6677em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">|</span></div>
					<div class="stl_01" style="left:8.5752em;top:50.8098em;"><span class="stl_80 stl_27 stl_28" style="word-spacing:0em;">Chapter 12: MySQL in the Cloud &nbsp;</span></div>
					<a name="342_0" style="position:absolute;left:0em;top:39.187em;">&nbsp;</a>
					<a name="342_1" style="position:absolute;left:0em;top:41.023em;">&nbsp;</a>
					<a name="342_2" style="position:absolute;left:0em;top:46.773em;">&nbsp;</a>
				</div>
			</div>
		</div>
	</body>
</html>