<!DOCTYPE html><!--[if IE]>  <html class="stl_ie"> <![endif]-->
<html>
	<head>
		<meta charset="utf-8" />
		<title>
		</title>
		<link rel="stylesheet" type="text/css" href="MultiPageHTML_out_files/style.css" />
	</head>
	<body>
		<div class="stl_ stl_02">
			<div class="stl_03">
				<object data="MultiPageHTML_out_files/img_305.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:42em; height:55.0833em;">
					<embed src="MultiPageHTML_out_files/img_305.svg" type="image/svg+xml" />
				</object>
			</div>
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="left:5.9998em;top:4.3166em;"><span class="stl_154 stl_32 stl_132" style="word-spacing:0.0787em;">impact: “hot” backups aren’t supposed to require any server downtime, for example. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9996em;top:5.3666em;"><span class="stl_154 stl_32 stl_54" style="word-spacing:0.0526em;">The problem is that these terms don’t mean the same things to everyone. Some tools &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:6.4052em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.001em;">even use the word </span><span class="stl_155 stl_41 stl_121" style="word-spacing:0.018em;">hot </span><span class="stl_154 stl_32 stl_99" style="word-spacing:0.0064em;">in their names but definitely don’t perform what we consider to &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:7.4666em;z-index:407;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0291em;">be hot backups. </span><span class="stl_154 stl_32 stl_52">W</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0291em;">e </span><span class="stl_154 stl_32 stl_28">t</span><span class="stl_154 stl_32 stl_87" style="word-spacing:0.0295em;">ry to avoid these terms and instead tell you how much a specific &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:8.5166em;z-index:496;"><span class="stl_154 stl_32 stl_48" style="word-spacing:0.0035em;">technique or tool interrupts your server. &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:10.0552em;z-index:541;"><span class="stl_154 stl_32 stl_138" style="word-spacing:0.0941em;">Two other confusing words are </span><span class="stl_155 stl_41 stl_327" style="word-spacing:0.1102em;">restore </span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0868em;">and </span><span class="stl_155 stl_41 stl_65">recover</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0868em;">. </span><span class="stl_154 stl_32 stl_52">W</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0868em;">e </span><span class="stl_154 stl_32 stl_28">u</span><span class="stl_154 stl_32 stl_57" style="word-spacing:0.0891em;">se them in specific ways in &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:11.1052em;z-index:576;"><span class="stl_154 stl_32 stl_149" style="word-spacing:0.0512em;">this chapter. </span><span class="stl_155 stl_41 stl_101" style="word-spacing:0.0473em;">Restoring </span><span class="stl_154 stl_32 stl_95" style="word-spacing:0.0367em;">means retrieving data from a backup and either loading it into &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:12.1552em;"><span class="stl_154 stl_32 stl_39" style="word-spacing:0.1837em;">MySQL or placing the files where MySQL expects them to be. </span><span class="stl_155 stl_41 stl_36" style="word-spacing:0.1819em;">Recovery </span><span class="stl_154 stl_32 stl_28">generally &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:13.2166em;"><span class="stl_154 stl_32 stl_140" style="word-spacing:0.1085em;">means the entire process of rescuing a system, or part of a system, after something &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:14.2666em;"><span class="stl_154 stl_32 stl_140" style="word-spacing:0.1327em;">has gone wrong. This includes restoring data from backups as well as all the steps &nbsp;</span></div>
					<div class="stl_01" style="left:5.9996em;top:15.3166em;"><span class="stl_154 stl_32 stl_125" style="word-spacing:-0.0009em;">necessary to make a server fully functional again, such as restarting MySQL, changing &nbsp;</span></div>
					<div class="stl_01" style="left:5.9996em;top:16.3666em;z-index:949;"><span class="stl_154 stl_32 stl_126" style="word-spacing:-0.0007em;">the configuration, warming up the server</span><span class="stl_154 stl_32 stl_34">’</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0em;">s </span><span class="stl_154 stl_32 stl_28">c</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0em;">aches, and so on. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9996em;top:17.9166em;"><span class="stl_154 stl_32 stl_105" style="word-spacing:0.2241em;">To </span><span class="stl_154 stl_32 stl_28">m</span><span class="stl_154 stl_32 stl_117" style="word-spacing:0.0278em;">any people, recovery just means fixing corrupted tables after a crash. This is not &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:18.9666em;z-index:1086;"><span class="stl_154 stl_32 stl_143" style="word-spacing:0.0833em;">the same as recovering an entire server. A storage engine</span><span class="stl_154 stl_32 stl_34">’</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0776em;">s </span><span class="stl_154 stl_32 stl_28">c</span><span class="stl_154 stl_32 stl_135" style="word-spacing:0.0746em;">rash recovery reconciles &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:20.0166em;"><span class="stl_154 stl_32 stl_36" style="word-spacing:0.0743em;">its data and logfiles. It makes sure the datafiles contain only the modifications made &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:21.0666em;"><span class="stl_154 stl_32 stl_95" style="word-spacing:0.0362em;">by committed transactions, and it replays transactions from the logfiles that have not &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:22.1166em;"><span class="stl_154 stl_32 stl_88" style="word-spacing:0.0108em;">yet been applied to the datafiles. This might be part of the overall recovery process, or &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:23.1666em;"><span class="stl_154 stl_32 stl_55" style="word-spacing:0.1025em;">even part of making backups. However, it’s not the same as the recovery you might &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:24.266em;"><span class="stl_154 stl_32 stl_73" style="word-spacing:0.0548em;">need to do after an accidental </span><span class="stl_170 stl_171 stl_28" style="word-spacing:0.0528em;">DROP TABLE</span><span class="stl_154 stl_32 stl_78" style="word-spacing:0.0543em;">, for example. Depending on the issue you &nbsp;</span></div>
					<div class="stl_01" style="left:5.9996em;top:25.316em;"><span class="stl_154 stl_32 stl_122" style="word-spacing:0.0003em;">are recovering from, the actions you take for recovery may be vastly different. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9996em;top:26.8547em;"><span class="stl_154 stl_32 stl_84" style="word-spacing:0.1459em;">Lastly, there are two main types of backups: raw and logical. </span><span class="stl_155 stl_41 stl_149" style="word-spacing:0.1577em;">Raw backups—</span><span class="stl_154 stl_32 stl_28">some‐ &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:27.9047em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0272em;">times called </span><span class="stl_155 stl_41 stl_356">physical</span><sup style="top: -0.2917em;"><a href="MultiPageHTML_out280.html#280_1"><span class="stl_166 stl_32 stl_28" style="word-spacing:0.2175em;">1 </span></a></sup><span class="stl_155 stl_41 stl_65">backups—</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0272em;">refer to a copy of files from a filesystem. </span><span class="stl_155 stl_41 stl_43" style="word-spacing:0.0072em;">Logical back‐ &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:28.9547em;"><span class="stl_155 stl_41 stl_93" style="word-spacing:0.014em;">ups </span><span class="stl_154 stl_32 stl_35" style="word-spacing:0.0029em;">refer to the SQL statements needed to reconstruct the data. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9992em;top:30.8626em;"><span class="stl_159 stl_27 stl_28" style="word-spacing:0em;">Why Backups? &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:33.1327em;"><span class="stl_154 stl_32 stl_114" style="word-spacing:0.005em;">Here are a few reasons that backups are important: &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:34.7547em;"><span class="stl_155 stl_41 stl_24" style="word-spacing:0.0054em;">Disaster recovery &nbsp;</span></div>
					<div class="stl_01" style="left:7.5003em;top:35.8161em;"><span class="stl_154 stl_32 stl_37" style="word-spacing:0.0443em;">Disaster recovery is what you do when hardware fails, a nasty bug corrupts your &nbsp;</span></div>
					<div class="stl_01" style="left:7.4998em;top:36.8661em;"><span class="stl_154 stl_32 stl_95" style="word-spacing:0.0624em;">data, or your server and its data become unavailable or unusable for some other &nbsp;</span></div>
					<div class="stl_01" style="left:7.5002em;top:37.9161em;z-index:1937;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0355em;">reason. </span><span class="stl_154 stl_32 stl_109">Y</span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_37" style="word-spacing:0.0351em;">u need to be ready for everything from someone accidentally connect‐ &nbsp;</span></div>
					<div class="stl_01" style="left:7.4997em;top:39.0155em;"><span class="stl_154 stl_32 stl_135" style="word-spacing:0.0302em;">ing to the wrong server doing an </span><span class="stl_170 stl_171 stl_312" style="word-spacing:-0.0075em;">ALTER TABLE</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0332em;">, to the building burning down, to &nbsp;</span></div>
					<div class="stl_01" style="left:7.5004em;top:40.0655em;"><span class="stl_154 stl_32 stl_35" style="word-spacing:0.0405em;">a malicious attacker or a MySQL bug. Although the odds of any particular disas‐ &nbsp;</span></div>
					<div class="stl_01" style="left:7.4999em;top:41.1155em;"><span class="stl_154 stl_32 stl_143" style="word-spacing:0.0055em;">ter striking are fairly low, taken together they add up. &nbsp;</span></div>
					<div class="stl_01" style="left:6.095em;top:47.4369em;"><span class="stl_167 stl_32 stl_28">1</span></div>
					<div class="stl_01" style="left:6.6667em;top:47.3458em;"><span class="stl_168 stl_32 stl_57" style="word-spacing:0.0021em;">Raw backups may also be unintuitively referred to as </span><span class="stl_229 stl_41 stl_121" style="word-spacing:0.0179em;">physical backups </span><span class="stl_168 stl_32 stl_148" style="word-spacing:0.0082em;">with the idea you’re moving the physi‐ &nbsp;</span></div>
					<div class="stl_01" style="left:6.6667em;top:48.1878em;z-index:128;"><span class="stl_168 stl_32 stl_78" style="word-spacing:0.0015em;">cal files to your backup destination. </span><span class="stl_168 stl_32 stl_52">W</span><span class="stl_168 stl_32 stl_28" style="word-spacing:0em;">e </span><span class="stl_168 stl_32 stl_28">s</span><span class="stl_168 stl_32 stl_65" style="word-spacing:0.014em;">ay “unintuitive” because the file itself isn’t physical at all! &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">258 &nbsp;</span></div>
					<div class="stl_01" style="left:7.6678em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">|</span></div>
					<div class="stl_01" style="left:8.5753em;top:50.8098em;"><span class="stl_80 stl_27 stl_28" style="word-spacing:0em;">Chapter 10: Backup and Recovery &nbsp;</span></div>
					<a name="280_0" style="position:absolute;left:0em;top:31.2141em;">&nbsp;</a>
					<a name="280_1" style="position:absolute;left:0em;top:47.4458em;">&nbsp;</a>
					<a name="280_2" style="position:absolute;left:0em;top:33.362em;">&nbsp;</a>
					<a name="280_3" style="position:absolute;left:0em;top:36.0453em;">&nbsp;</a>
					<a name="280_4" style="position:absolute;left:0em;top:27.0953em;">&nbsp;</a>
					<a name="280_5" style="position:absolute;left:0em;top:10.2958em;">&nbsp;</a>
				</div>
			</div>
		</div>
	</body>
</html>