<!DOCTYPE html><!--[if IE]>  <html class="stl_ie"> <![endif]-->
<html>
	<head>
		<meta charset="utf-8" />
		<title>
		</title>
		<link rel="stylesheet" type="text/css" href="MultiPageHTML_out_files/style.css" />
	</head>
	<body>
		<div class="stl_ stl_02">
			<div class="stl_03">
				<object data="MultiPageHTML_out_files/img_245.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:42em; height:55.0833em;">
					<embed src="MultiPageHTML_out_files/img_245.svg" type="image/svg+xml" />
				</object>
			</div>
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="left:7.4998em;top:4.3166em;"><span class="stl_154 stl_32 stl_122" style="word-spacing:0.0001em;">MySQL executes this query in two steps, which correspond to the two rows in the &nbsp;</span></div>
					<div class="stl_01" style="left:7.4998em;top:5.416em;z-index:128;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0708em;">output. The first step is to find the desired row in the </span><span class="stl_170 stl_171 stl_28" style="word-spacing:-0.1865em;">film </span><span class="stl_154 stl_32 stl_43" style="word-spacing:0.0779em;">table. MySQ</span><span class="stl_154 stl_32 stl_94">L</span><span class="stl_154 stl_32 stl_34" style="word-spacing:0.2608em;">’s </span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_28">pti‐ &nbsp;</span></div>
					<div class="stl_01" style="left:7.5001em;top:6.5155em;z-index:173;"><span class="stl_154 stl_32 stl_114" style="word-spacing:0.0501em;">mizer knows there is only one row because there</span><span class="stl_154 stl_32 stl_34">’</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0452em;">s a </span><span class="stl_154 stl_32 stl_28">p</span><span class="stl_154 stl_32 stl_448" style="word-spacing:0.0394em;">rimary key on the </span><span class="stl_170 stl_171 stl_28">film_id &nbsp;</span></div>
					<div class="stl_01" style="left:7.4996em;top:7.5655em;"><span class="stl_154 stl_32 stl_37" style="word-spacing:0.1624em;">column and it has already consulted the index during the query optimization &nbsp;</span></div>
					<div class="stl_01" style="left:7.5em;top:8.6155em;"><span class="stl_154 stl_32 stl_117" style="word-spacing:0.0041em;">stage to see how many rows it will find. Because the query optimizer has a known &nbsp;</span></div>
					<div class="stl_01" style="left:7.5004em;top:9.7149em;z-index:388;"><span class="stl_154 stl_32 stl_57" style="word-spacing:0.0463em;">quantity (the value in the </span><span class="stl_170 stl_171 stl_28">WHER</span><span class="stl_170 stl_171 stl_449">E</span><span class="stl_154 stl_32 stl_148" style="word-spacing:0.0522em;">clause) to use in the lookup, this table</span><span class="stl_154 stl_32 stl_34">’</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0441em;">s </span><span class="stl_170 stl_171 stl_28">re</span><span class="stl_170 stl_171 stl_449">f</span><span class="stl_154 stl_32 stl_28">type &nbsp;</span></div>
					<div class="stl_01" style="left:7.4999em;top:10.8143em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0em;">is </span><span class="stl_170 stl_171 stl_28">const</span><span class="stl_154 stl_32 stl_28">. &nbsp;</span></div>
					<div class="stl_01" style="left:7.4999em;top:12.4138em;"><span class="stl_154 stl_32 stl_124" style="word-spacing:0.033em;">In the second step, MySQL treats the </span><span class="stl_170 stl_171 stl_28">film_i</span><span class="stl_170 stl_171 stl_338">d</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.026em;">column from the row found in the &nbsp;</span></div>
					<div class="stl_01" style="left:7.5002em;top:13.4638em;"><span class="stl_154 stl_32 stl_132" style="word-spacing:0.038em;">first step as a known quantity. It can do this because the optimizer knows that by &nbsp;</span></div>
					<div class="stl_01" style="left:7.4997em;top:14.5138em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.094em;">the time the query reaches the second step, it will know all the values from the &nbsp;</span></div>
					<div class="stl_01" style="left:7.5001em;top:15.6132em;z-index:638;"><span class="stl_154 stl_32 stl_148" style="word-spacing:0.1201em;">first step. Notice that the </span><span class="stl_170 stl_171 stl_28" style="word-spacing:-0.1432em;">film_actor </span><span class="stl_154 stl_32 stl_450" style="word-spacing:0.163em;">table’s </span><span class="stl_170 stl_171 stl_28" style="word-spacing:-0.1432em;">ref </span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.112em;">type is </span><span class="stl_170 stl_171 stl_28">const</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.112em;">, just as the </span><span class="stl_170 stl_171 stl_28">film &nbsp;</span></div>
					<div class="stl_01" style="left:7.4996em;top:16.6632em;"><span class="stl_154 stl_32 stl_242" style="word-spacing:0.034em;">table’s was. &nbsp;</span></div>
					<div class="stl_01" style="left:7.4996em;top:18.2132em;z-index:744;"><span class="stl_154 stl_32 stl_123" style="word-spacing:0.1522em;">Another way you’ll see constant conditions applied is by propagating a value</span><span class="stl_154 stl_32 stl_34">’</span><span class="stl_154 stl_32 stl_34">s &nbsp;</span></div>
					<div class="stl_01" style="left:7.5em;top:19.3127em;"><span class="stl_154 stl_32 stl_53" style="word-spacing:0.117em;">constantness from one place to another if there is a </span><span class="stl_170 stl_171 stl_28">WHERE</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.1158em;">, </span><span class="stl_170 stl_171 stl_28">USING</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.1158em;">, or </span><span class="stl_170 stl_171 stl_28" style="word-spacing:-0.1391em;">ON </span><span class="stl_154 stl_32 stl_55">clause &nbsp;</span></div>
					<div class="stl_01" style="left:7.5004em;top:20.3627em;"><span class="stl_154 stl_32 stl_73" style="word-spacing:0.0346em;">that restricts the values to being equal. In this example, the optimizer knows that &nbsp;</span></div>
					<div class="stl_01" style="left:7.4999em;top:21.4621em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0374em;">the </span><span class="stl_170 stl_171 stl_28">USIN</span><span class="stl_170 stl_171 stl_451">G</span><span class="stl_154 stl_32 stl_36" style="word-spacing:0.0412em;">clause forces </span><span class="stl_170 stl_171 stl_28">film_i</span><span class="stl_170 stl_171 stl_451">d</span><span class="stl_154 stl_32 stl_204" style="word-spacing:0.0327em;">to have the same value everywhere in the query; &nbsp;</span></div>
					<div class="stl_01" style="left:7.5002em;top:22.5615em;"><span class="stl_154 stl_32 stl_46" style="word-spacing:0.0025em;">it must be equal to the constant value given in the </span><span class="stl_170 stl_171 stl_28">WHER</span><span class="stl_170 stl_171 stl_186">E</span><span class="stl_154 stl_32 stl_99">clause. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9996em;top:24.1835em;"><span class="stl_155 stl_41 stl_107" style="word-spacing:0.0089em;">Covering indexes &nbsp;</span></div>
					<div class="stl_01" style="left:7.5002em;top:25.2449em;"><span class="stl_154 stl_32 stl_97" style="word-spacing:0.1013em;">MySQL can sometimes use an index to avoid reading row data when the index &nbsp;</span></div>
					<div class="stl_01" style="left:7.4997em;top:26.2949em;z-index:1110;"><span class="stl_154 stl_32 stl_125" style="word-spacing:0.2341em;">contains all the columns the query needs. </span><span class="stl_154 stl_32 stl_52">W</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.2349em;">e </span><span class="stl_154 stl_32 stl_28">d</span><span class="stl_154 stl_32 stl_95" style="word-spacing:0.2367em;">iscussed covering indexes at &nbsp;</span></div>
					<div class="stl_01" style="left:7.5001em;top:27.3449em;z-index:1163;"><span class="stl_154 stl_32 stl_138" style="word-spacing:0.0075em;">length in the previous chapter. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:28.9668em;"><span class="stl_155 stl_41 stl_164" style="word-spacing:0.0147em;">Subquery optimization &nbsp;</span></div>
					<div class="stl_01" style="left:7.5001em;top:30.0282em;"><span class="stl_154 stl_32 stl_33" style="word-spacing:0.2337em;">MySQL can convert some types of subqueries into more efficient alternative &nbsp;</span></div>
					<div class="stl_01" style="left:7.4996em;top:31.0782em;"><span class="stl_154 stl_32 stl_140" style="word-spacing:0.0008em;">forms, reducing them to index lookups instead of separate queries. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:32.7002em;"><span class="stl_155 stl_41 stl_86" style="word-spacing:0.0174em;">Early termination &nbsp;</span></div>
					<div class="stl_01" style="left:7.4996em;top:33.7615em;"><span class="stl_154 stl_32 stl_189" style="word-spacing:0.0209em;">MySQL can stop processing a query (or a step in a query) as soon as it fulfills the &nbsp;</span></div>
					<div class="stl_01" style="left:7.5em;top:34.861em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.1683em;">query or step. The obvious case is a </span><span class="stl_170 stl_171 stl_28" style="word-spacing:-0.0839em;">LIMIT </span><span class="stl_154 stl_32 stl_74" style="word-spacing:0.1699em;">clause, but there are several other &nbsp;</span></div>
					<div class="stl_01" style="left:7.5003em;top:35.911em;"><span class="stl_154 stl_32 stl_77" style="word-spacing:0.0793em;">kinds of early termination. For instance, if MySQL detects an impossible condi‐ &nbsp;</span></div>
					<div class="stl_01" style="left:7.4998em;top:36.961em;z-index:1550;"><span class="stl_154 stl_32 stl_24" style="word-spacing:0.0055em;">tion, it can abort the entire query. </span><span class="stl_154 stl_32 stl_109">Y</span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_74" style="word-spacing:0.0015em;">u can see this in the following example: &nbsp;</span></div>
					<div class="stl_01" style="left:8.9168em;top:38.7264em;"><span class="stl_397 stl_171 stl_28" style="word-spacing:0em;">mysql&gt; </span><span class="stl_398 stl_173 stl_28" style="word-spacing:0em;">EXPLAIN SELECT film.film_id FROM sakila.film WHERE film_id = −1; &nbsp;</span></div>
					<div class="stl_01" style="left:8.9168em;top:39.6196em;"><span class="stl_397 stl_171 stl_28" style="word-spacing:0em;">*************************** 1. row *************************** &nbsp;</span></div>
					<div class="stl_01" style="left:9.2887em;top:40.5121em;"><span class="stl_397 stl_171 stl_28" style="word-spacing:0em;">id: 1 &nbsp;</span></div>
					<div class="stl_01" style="left:9.2887em;top:41.4046em;"><span class="stl_397 stl_171 stl_28" style="word-spacing:0em;">select_type: SIMPLE &nbsp;</span></div>
					<div class="stl_01" style="left:9.2887em;top:42.2971em;"><span class="stl_397 stl_171 stl_28" style="word-spacing:0em;">table: NULL &nbsp;</span></div>
					<div class="stl_01" style="left:9.2887em;top:43.1896em;"><span class="stl_397 stl_171 stl_28" style="word-spacing:0em;">partitions: NULL &nbsp;</span></div>
					<div class="stl_01" style="left:9.2887em;top:44.0821em;"><span class="stl_397 stl_171 stl_28" style="word-spacing:0em;">type: NULL &nbsp;</span></div>
					<div class="stl_01" style="left:9.2887em;top:44.9746em;"><span class="stl_397 stl_171 stl_28" style="word-spacing:0em;">possible_keys: NULL &nbsp;</span></div>
					<div class="stl_01" style="left:9.2887em;top:45.8671em;"><span class="stl_397 stl_171 stl_28" style="word-spacing:0em;">key: NULL &nbsp;</span></div>
					<div class="stl_01" style="left:9.2887em;top:46.7596em;"><span class="stl_397 stl_171 stl_28" style="word-spacing:0em;">key_len: NULL &nbsp;</span></div>
					<div class="stl_01" style="left:9.2887em;top:47.6521em;"><span class="stl_397 stl_171 stl_28" style="word-spacing:0em;">ref: NULL &nbsp;</span></div>
					<div class="stl_01" style="left:9.2887em;top:48.5446em;"><span class="stl_397 stl_171 stl_28" style="word-spacing:0em;">rows: NULL &nbsp;</span></div>
					<div class="stl_01" style="left:27.8409em;top:50.8098em;"><span class="stl_80 stl_27 stl_28" style="word-spacing:0em;">Query Execution Basics &nbsp;</span></div>
					<div class="stl_01" style="left:34.1747em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">|</span></div>
					<div class="stl_01" style="left:35.0822em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">209 &nbsp;</span></div>
					<a name="231_0" style="position:absolute;left:0em;top:25.4741em;">&nbsp;</a>
					<a name="231_1" style="position:absolute;left:0em;top:33.9908em;">&nbsp;</a>
					<a name="231_2" style="position:absolute;left:0em;top:30.2574em;">&nbsp;</a>
				</div>
			</div>
		</div>
	</body>
</html>