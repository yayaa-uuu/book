<!DOCTYPE html><!--[if IE]>  <html class="stl_ie"> <![endif]-->
<html>
	<head>
		<meta charset="utf-8" />
		<title>
		</title>
		<link rel="stylesheet" type="text/css" href="MultiPageHTML_out_files/style.css" />
	</head>
	<body>
		<div class="stl_ stl_02">
			<div class="stl_03">
				<object data="MultiPageHTML_out_files/img_371.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:42em; height:55.0833em;">
					<embed src="MultiPageHTML_out_files/img_371.svg" type="image/svg+xml" />
				</object>
			</div>
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="left:5.9998em;top:4.3166em;"><span class="stl_154 stl_32 stl_140" style="word-spacing:0.1827em;">Optimizing the machine specs for your workload is much easier when you use a &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:5.3666em;"><span class="stl_154 stl_32 stl_36" style="word-spacing:0.0822em;">cloud provider. The major cloud providers allow you to choose a machine spec that &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:6.4166em;"><span class="stl_154 stl_32 stl_123" style="word-spacing:0.0775em;">sets ranges of virtual CPUs (vCPUs), the amount of RAM available, and networking &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:7.4666em;"><span class="stl_154 stl_32 stl_57" style="word-spacing:0.0574em;">and disk limitations. With this comes the ability to resize the VMs as your workload &nbsp;</span></div>
					<div class="stl_01" style="left:5.9996em;top:8.5166em;"><span class="stl_154 stl_32 stl_158" style="word-spacing:0.099em;">changes. This could mean that if you experience peak traffic over a specific time of &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:9.5666em;"><span class="stl_154 stl_32 stl_57" style="word-spacing:0.1868em;">year—like a holiday season—you can temporarily increase your machine specs to &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:10.6166em;"><span class="stl_154 stl_32 stl_73" style="word-spacing:0.1193em;">account for that. Once traffic patterns dip back down, you can resize them smaller &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:11.6666em;"><span class="stl_154 stl_32 stl_83" style="word-spacing:0.0023em;">again. This flexibility is why many people move to the cloud. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:13.5509em;"><span class="stl_180 stl_27 stl_28" style="word-spacing:0em;">Choosing the Right Machine Type &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:15.4507em;"><span class="stl_154 stl_32 stl_51" style="word-spacing:0.1389em;">If you’re already on a cloud provider, choosing a machine is fairly trivial. If you’re &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:16.5007em;"><span class="stl_154 stl_32 stl_99" style="word-spacing:0.0853em;">running into a vCPU, memory, or network bottleneck, you can find the appropriate &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:17.5507em;z-index:929;"><span class="stl_154 stl_32 stl_124" style="word-spacing:0.0617em;">machine type to overcome it and resize. If you’re making a move from a data center, &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:18.6007em;"><span class="stl_154 stl_32 stl_83" style="word-spacing:0.0024em;">though, it can be tricky to determine the right configuration up front. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:20.6576em;"><span class="stl_193 stl_27 stl_28">CPU &nbsp;</span></div>
					<div class="stl_01" style="left:5.9996em;top:22.125em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.03em;">In </span><a href="MultiPageHTML_out97.html#97_0"><span class="stl_184 stl_32 stl_106" style="word-spacing:-0.0029em;">Chapter 4</span></a><span class="stl_154 stl_32 stl_39" style="word-spacing:0.0324em;">, we talked about how to select the right CPUs for your workload. When &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:23.175em;"><span class="stl_154 stl_32 stl_78" style="word-spacing:0.1461em;">you transition to the cloud, most of that guidance still holds true. Remember that &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:24.2136em;"><span class="stl_154 stl_32 stl_71" style="word-spacing:0.0075em;">with cloud providers, you’re getting </span><span class="stl_155 stl_41 stl_74" style="word-spacing:0.0007em;">virtual </span><span class="stl_154 stl_32 stl_25" style="word-spacing:0.011em;">CPUs, not physical CPUs. This means that &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:25.275em;"><span class="stl_154 stl_32 stl_97" style="word-spacing:0.118em;">the CPU is not exclusively yours. It may be shared with other tenants on the same &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:26.325em;"><span class="stl_154 stl_32 stl_35" style="word-spacing:0.1375em;">physical host. In all likelihood, you’ll see more variation on latency and utilization &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:27.375em;z-index:1378;"><span class="stl_154 stl_32 stl_83" style="word-spacing:0.0023em;">than you would on your own exclusive server. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:28.925em;"><span class="stl_154 stl_32 stl_99" style="word-spacing:0.0106em;">If you’re migrating from physical machines to a cloud provider, it can also be tricky to &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:29.975em;z-index:1474;"><span class="stl_154 stl_32 stl_57" style="word-spacing:0.0117em;">estimate your CPU usage. </span><span class="stl_154 stl_32 stl_52">W</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0094em;">e </span><span class="stl_154 stl_32 stl_28">h</span><span class="stl_154 stl_32 stl_57" style="word-spacing:0.0116em;">ave had success using the following formula for vCPU &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:31.025em;"><span class="stl_154 stl_32 stl_114" style="word-spacing:0.0051em;">count: (Core Count × 95% </span><span class="stl_154 stl_32 stl_105">T</span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_145" style="word-spacing:0.0106em;">tal CPU Usage) × 2. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:32.575em;"><span class="stl_154 stl_32 stl_72" style="word-spacing:0.151em;">For example, suppose you have a 40-core server in a data center. Over the last 30 &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:33.625em;"><span class="stl_154 stl_32 stl_77" style="word-spacing:0.116em;">days, the peak CPU usage was 30%. How many cores do you need to run this in a &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:34.675em;"><span class="stl_154 stl_32 stl_72" style="word-spacing:0.0044em;">cloud provider at 50% utilization? Using the preceding formula, we would estimate 24 &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:35.725em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0448em;">cores. If your chosen cloud provider does not offer a 24-core machine type, consider &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:36.775em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.032em;">rounding up to the nearest type or determining whether your provider offers custom &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:37.825em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:-0.0001em;">machine types.</span><sup style="top: -0.2917em;"><a href="MultiPageHTML_out341.html#341_1"><span class="stl_166 stl_32 stl_117" style="word-spacing:-0.0002em;">5 &nbsp;</span></a></sup></div>
					<div class="stl_01" style="left:6.095em;top:47.4369em;"><span class="stl_167 stl_32 stl_28">5</span></div>
					<div class="stl_01" style="left:6.6667em;top:47.3545em;"><span class="stl_168 stl_32 stl_88" style="word-spacing:0.001em;">Be mindful that custom machine types may cost more than predetermined machine types. When working at &nbsp;</span></div>
					<div class="stl_01" style="left:6.6667em;top:48.1878em;z-index:116;"><span class="stl_168 stl_32 stl_33" style="word-spacing:0.0042em;">large numbers of instances, it</span><span class="stl_168 stl_32 stl_34">’</span><span class="stl_168 stl_32 stl_28" style="word-spacing:0em;">s </span><span class="stl_168 stl_32 stl_28">a</span><span class="stl_168 stl_32 stl_46" style="word-spacing:0.0027em;">lways important to consider cost when choosing your sizing. &nbsp;</span></div>
					<div class="stl_01" style="left:26.7822em;top:50.8098em;"><span class="stl_80 stl_27 stl_28" style="word-spacing:0em;">MySQL on Virtual Machines &nbsp;</span></div>
					<div class="stl_01" style="left:34.1742em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">|</span></div>
					<div class="stl_01" style="left:35.0817em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">319 &nbsp;</span></div>
					<a name="341_0" style="position:absolute;left:0em;top:13.844em;">&nbsp;</a>
					<a name="341_1" style="position:absolute;left:0em;top:47.4458em;">&nbsp;</a>
					<a name="341_2" style="position:absolute;left:0em;top:15.6799em;">&nbsp;</a>
				</div>
			</div>
		</div>
	</body>
</html>