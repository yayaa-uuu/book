<!DOCTYPE html><!--[if IE]>  <html class="stl_ie"> <![endif]-->
<html>
	<head>
		<meta charset="utf-8" />
		<title>
		</title>
		<link rel="stylesheet" type="text/css" href="MultiPageHTML_out_files/style.css" />
	</head>
	<body>
		<div class="stl_ stl_02">
			<div class="stl_03">
				<object data="MultiPageHTML_out_files/img_397.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:42em; height:55.0833em;">
					<embed src="MultiPageHTML_out_files/img_397.svg" type="image/svg+xml" />
				</object>
			</div>
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="left:6em;top:4.3166em;"><span class="stl_154 stl_32 stl_140" style="word-spacing:0.1258em;">the only way to downgrade is to restore a backup from before you upgraded. This &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:5.3666em;"><span class="stl_154 stl_32 stl_84" style="word-spacing:0.0045em;">makes upgrading especially risky, so be sure you have a plan. &nbsp;</span></div>
					<div class="stl_01" style="left:11.3995em;top:7.6787em;"><span class="stl_176 stl_32 stl_152" style="word-spacing:0.0261em;">It’s important to note that since MySQL 8.0, you cannot downgrade &nbsp;</span></div>
					<div class="stl_01" style="left:11.3996em;top:8.6387em;"><span class="stl_176 stl_32 stl_24" style="word-spacing:0.1643em;">point release versions either. For example, once you are running &nbsp;</span></div>
					<div class="stl_01" style="left:11.3988em;top:9.5987em;"><span class="stl_176 stl_32 stl_28" style="word-spacing:0.1791em;">8.0.25, you cannot downgrade to 8.0.24 without exporting all of &nbsp;</span></div>
					<div class="stl_01" style="left:11.3988em;top:10.5587em;"><span class="stl_176 stl_32 stl_54" style="word-spacing:0.004em;">your data and reimporting. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:12.9067em;"><span class="stl_159 stl_27 stl_28" style="word-spacing:0em;">Testing Upgrades &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:15.1769em;"><span class="stl_154 stl_32 stl_35" style="word-spacing:0.0228em;">Once you’ve read the release and upgrade notes, you should have a good understand‐ &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:16.2269em;"><span class="stl_154 stl_32 stl_88" style="word-spacing:0.0613em;">ing of any concerns or areas of focus for testing. The next step would be to test how &nbsp;</span></div>
					<div class="stl_01" style="left:5.9996em;top:17.2769em;z-index:500;"><span class="stl_154 stl_32 stl_88" style="word-spacing:0.1448em;">this new version will behave with your workload. </span><span class="stl_154 stl_32 stl_109">Y</span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_222" style="word-spacing:0.1505em;">u’ll also want to verify you’ve &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:18.3269em;"><span class="stl_154 stl_32 stl_46" style="word-spacing:0.0814em;">reviewed your configuration files. Newer versions of MySQL often rename variables &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:19.3769em;z-index:621;"><span class="stl_154 stl_32 stl_25" style="word-spacing:0.0111em;">or deprecate them entirely. &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:20.9269em;z-index:623;"><span class="stl_154 stl_32 stl_105">T</span><span class="stl_154 stl_32 stl_28">e</span><span class="stl_154 stl_32 stl_57" style="word-spacing:0.0297em;">sting is a tricky step to accomplish, and each of the methods has caveats. Given the &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:21.9769em;"><span class="stl_154 stl_32 stl_74" style="word-spacing:0.0644em;">risk we cited before about downgrading, you should employ as many of these meth‐ &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:23.0269em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0em;">ods as are feasible prior to upgrading. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:24.9112em;"><span class="stl_180 stl_27 stl_28" style="word-spacing:0em;">Development Environment Testing &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:26.811em;"><span class="stl_154 stl_32 stl_55" style="word-spacing:0.0143em;">Hopefully, you have a development environment for your data. This is a great place to &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:27.861em;"><span class="stl_154 stl_32 stl_78" style="word-spacing:0.0777em;">begin your testing, either on a shared development database or on a standalone one &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:28.911em;"><span class="stl_154 stl_32 stl_46" style="word-spacing:0.0104em;">for you. The main goal of using this is to surface any obvious issues with syntax. Most &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:29.961em;"><span class="stl_154 stl_32 stl_48" style="word-spacing:0.0139em;">development environments do not contain the same size production data, so it can be &nbsp;</span></div>
					<div class="stl_01" style="left:5.9996em;top:31.011em;"><span class="stl_154 stl_32 stl_35" style="word-spacing:0.1872em;">difficult to run accurate testing. For example, you may run your commonly used &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:32.061em;"><span class="stl_154 stl_32 stl_39" style="word-spacing:0.1132em;">queries and see that they’re fine because they access only 10 rows in a table. When &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:33.111em;"><span class="stl_154 stl_32 stl_140" style="word-spacing:0.274em;">you go to production, with 10 million rows in the same table, you may see a &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:34.161em;"><span class="stl_154 stl_32 stl_28">regression. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:36.0453em;"><span class="stl_180 stl_27 stl_28" style="word-spacing:0em;">Production Mirror &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:37.9451em;"><span class="stl_154 stl_32 stl_74" style="word-spacing:0.014em;">Another option would be to create a copy of your production data and send a copy of &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:38.9951em;z-index:1450;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0764em;">your SQL traffic to it. This method was showcased in </span><a href="https://oreil.ly/yByfy" target="_blank"><span class="stl_184 stl_32 stl_54" style="word-spacing:0.0804em;">a blog post on Etsy</span></a><a href="https://oreil.ly/yByfy" target="_blank"><span class="stl_184 stl_32 stl_34">’</span></a><a href="https://oreil.ly/yByfy" target="_blank"><span class="stl_184 stl_32 stl_28" style="word-spacing:0.0764em;">s </span></a><a href="https://oreil.ly/yByfy" target="_blank"><span class="stl_184 stl_32 stl_28">C</span></a><a href="https://oreil.ly/yByfy" target="_blank"><span class="stl_184 stl_32 stl_28" style="word-spacing:0.0764em;">ode As &nbsp;</span></a></div>
					<div class="stl_01" style="left:5.9998em;top:40.0451em;"><a href="https://oreil.ly/yByfy" target="_blank"><span class="stl_184 stl_32 stl_325" style="word-spacing:-0.0045em;">Craft blog</span></a><span class="stl_154 stl_32 stl_74" style="word-spacing:0.0195em;">. In short, you have a second copy of your production database, cease using &nbsp;</span></div>
					<div class="stl_01" style="left:5.9996em;top:41.0951em;"><span class="stl_154 stl_32 stl_123" style="word-spacing:0.1537em;">replication, and upgrade MySQL on the copy. Once complete, send traffic to both &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:42.1337em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.1151em;">your live production system </span><span class="stl_155 stl_41 stl_22" style="word-spacing:0.1361em;">and </span><span class="stl_154 stl_32 stl_95" style="word-spacing:0.117em;">the copy using a combination of </span><span class="stl_155 stl_41 stl_49" style="word-spacing:0.1317em;">tcpdump </span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.1151em;">and </span><span class="stl_155 stl_41 stl_144">pt- &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:43.1837em;z-index:1675;"><span class="stl_155 stl_41 stl_132">query-digest</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0538em;">. </span><span class="stl_154 stl_32 stl_109">Y</span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_74" style="word-spacing:0.0553em;">ur application is still using only the production system for live traffic &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:44.2451em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0284em;">while the copy with the upgraded version can give you performance metrics and sur‐ &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:45.2951em;"><span class="stl_154 stl_32 stl_46" style="word-spacing:0.0025em;">face errors in syntax. &nbsp;</span></div>
					<div class="stl_01" style="left:29.0411em;top:50.8098em;"><span class="stl_80 stl_27 stl_28" style="word-spacing:0em;">Upgrading MySQL &nbsp;</span></div>
					<div class="stl_01" style="left:34.1749em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">|</span></div>
					<div class="stl_01" style="left:35.0824em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">345 &nbsp;</span></div>
					<a name="367_0" style="position:absolute;left:0em;top:27.0403em;">&nbsp;</a>
					<a name="367_1" style="position:absolute;left:0em;top:38.1743em;">&nbsp;</a>
					<a name="367_2" style="position:absolute;left:0em;top:15.4062em;">&nbsp;</a>
				</div>
			</div>
		</div>
	</body>
</html>