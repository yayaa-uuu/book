<!DOCTYPE html><!--[if IE]>  <html class="stl_ie"> <![endif]-->
<html>
	<head>
		<meta charset="utf-8" />
		<title>
		</title>
		<link rel="stylesheet" type="text/css" href="MultiPageHTML_out_files/style.css" />
	</head>
	<body>
		<div class="stl_ stl_02">
			<div class="stl_03">
				<object data="MultiPageHTML_out_files/img_85.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:42em; height:55.0833em;">
					<embed src="MultiPageHTML_out_files/img_85.svg" type="image/svg+xml" />
				</object>
			</div>
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="left:6.3em;top:4.5515em;"><span class="stl_205 stl_27 stl_28">Column &nbsp;</span></div>
					<div class="stl_01" style="left:6.3001em;top:5.7625em;"><span class="stl_200 stl_171 stl_28">SORT_ROWS &nbsp;</span></div>
					<div class="stl_01" style="left:18.9em;top:4.5515em;"><span class="stl_205 stl_27 stl_28">Description &nbsp;</span></div>
					<div class="stl_01" style="left:32.5371em;top:4.5515em;"><span class="stl_205 stl_27 stl_28">Importance &nbsp;</span></div>
					<div class="stl_01" style="left:18.9em;top:5.6279em;"><span class="stl_206 stl_68 stl_28" style="word-spacing:0.0333em;">The number of sorted rows. Compare with the value of</span><span class="stl_206 stl_68 stl_28" style="word-spacing:1.0728em;">&nbsp;</span><span class="stl_206 stl_68 stl_28" style="word-spacing:0.033em;">Medium (see &nbsp;</span></div>
					<div class="stl_01" style="left:18.9em;top:6.5279em;"><span class="stl_206 stl_68 stl_28" style="word-spacing:0.0333em;">the returned rows. If the number of sorted rows is &nbsp;</span></div>
					<div class="stl_01" style="left:18.9em;top:7.4279em;"><span class="stl_206 stl_68 stl_28" style="word-spacing:0.0333em;">higher, you may need to optimize your query. &nbsp;</span></div>
					<div class="stl_01" style="left:32.5371em;top:6.5279em;"><span class="stl_206 stl_68 stl_28">Description) &nbsp;</span></div>
					<div class="stl_01" style="left:32.5371em;top:8.5154em;"><span class="stl_206 stl_68 stl_28">High &nbsp;</span></div>
					<div class="stl_01" style="left:18.9em;top:8.5154em;"><span class="stl_206 stl_68 stl_28" style="word-spacing:0.0333em;">If the sort was done by scanning a table. This is a very &nbsp;</span></div>
					<div class="stl_01" style="left:18.9em;top:9.4154em;"><span class="stl_206 stl_68 stl_28" style="word-spacing:0.0333em;">bad sign unless you purposely select all rows from the &nbsp;</span></div>
					<div class="stl_01" style="left:18.9em;top:10.3154em;"><span class="stl_206 stl_68 stl_28" style="word-spacing:0.0333em;">table without using an index. &nbsp;</span></div>
					<div class="stl_01" style="left:6.3002em;top:8.65em;"><span class="stl_200 stl_171 stl_28">SORT_SCAN &nbsp;</span></div>
					<div class="stl_01" style="left:18.9em;top:11.4029em;"><span class="stl_206 stl_68 stl_28" style="word-spacing:0.0333em;">No index was used to resolve the query. &nbsp;</span></div>
					<div class="stl_01" style="left:32.5371em;top:11.4029em;"><span class="stl_206 stl_68 stl_28" style="word-spacing:0.033em;">High, unless &nbsp;</span></div>
					<div class="stl_01" style="left:32.5371em;top:12.3029em;"><span class="stl_206 stl_68 stl_28" style="word-spacing:0.033em;">tables are &nbsp;</span></div>
					<div class="stl_01" style="left:32.5371em;top:13.2029em;"><span class="stl_206 stl_68 stl_28">small &nbsp;</span></div>
					<div class="stl_01" style="left:6.3em;top:11.5375em;"><span class="stl_200 stl_171 stl_28">NO_INDEX_USED &nbsp;</span></div>
					<div class="stl_01" style="left:6.3002em;top:14.425em;"><span class="stl_200 stl_171 stl_28">NO_GOOD_INDEX_USED &nbsp;</span></div>
					<div class="stl_01" style="left:18.9em;top:14.2904em;"><span class="stl_206 stl_68 stl_28" style="word-spacing:0.0333em;">Index used to resolve the query is not the best. You &nbsp;</span></div>
					<div class="stl_01" style="left:18.9em;top:15.1904em;"><span class="stl_206 stl_68 stl_28" style="word-spacing:0.0333em;">need to reconsider your indexes if this value is greater &nbsp;</span></div>
					<div class="stl_01" style="left:18.9em;top:16.0904em;"><span class="stl_206 stl_68 stl_28" style="word-spacing:0.033em;">than zero. &nbsp;</span></div>
					<div class="stl_01" style="left:32.5371em;top:14.2904em;"><span class="stl_206 stl_68 stl_28">High &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:18.0583em;"><span class="stl_154 stl_32 stl_105" style="word-spacing:0.2934em;">To </span><span class="stl_154 stl_32 stl_28">f</span><span class="stl_154 stl_32 stl_97" style="word-spacing:0.1005em;">ind out which statements require optimization, you can choose any of said col‚Äê &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:19.1083em;"><span class="stl_154 stl_32 stl_33" style="word-spacing:0.0408em;">umns and compare it with zero. For example, to find all the queries that do not use a &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:20.1583em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0em;">good index, run the following: &nbsp;</span></div>
					<div class="stl_01" style="left:7.4167em;top:21.9208em;"><span class="stl_200 stl_171 stl_28">SELECT THREAD_ID, SQL_TEXT, ROWS_SENT, ROWS_EXAMINED, CREATED_TMP_TABLES, &nbsp;</span></div>
					<div class="stl_01" style="left:7.4167em;top:22.7708em;"><span class="stl_200 stl_171 stl_28">NO_INDEX_USED, NO_GOOD_INDEX_USED &nbsp;</span></div>
					<div class="stl_01" style="left:7.4167em;top:23.6208em;"><span class="stl_200 stl_171 stl_28">FROM performance_schema.events_statements_history_long &nbsp;</span></div>
					<div class="stl_01" style="left:7.4167em;top:24.4708em;"><span class="stl_200 stl_171 stl_28">WHERE NO_INDEX_USED &gt; 0 OR NO_GOOD_INDEX_USED &gt; 0; &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:25.6083em;"><span class="stl_154 stl_32 stl_105" style="word-spacing:0.196em;">To </span><span class="stl_154 stl_32 stl_28">f</span><span class="stl_154 stl_32 stl_78" style="word-spacing:0.0015em;">ind all the queries that created temporary tables, run: &nbsp;</span></div>
					<div class="stl_01" style="left:7.4164em;top:27.3708em;"><span class="stl_200 stl_171 stl_28">SELECT THREAD_ID, SQL_TEXT, ROWS_SENT, ROWS_EXAMINED, CREATED_TMP_TABLES, &nbsp;</span></div>
					<div class="stl_01" style="left:7.4164em;top:28.2208em;"><span class="stl_200 stl_171 stl_28">CREATED_TMP_DISK_TABLES &nbsp;</span></div>
					<div class="stl_01" style="left:7.4164em;top:29.0708em;"><span class="stl_200 stl_171 stl_28">FROM performance_schema.events_statements_history_long &nbsp;</span></div>
					<div class="stl_01" style="left:7.4164em;top:29.9208em;"><span class="stl_200 stl_171 stl_28">WHERE CREATED_TMP_TABLES &gt; 0 OR CREATED_TMP_DISK_TABLES &gt; 0; &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:31.0583em;z-index:1120;"><span class="stl_154 stl_32 stl_109">Y</span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_33" style="word-spacing:0.161em;">u can use values in these columns to show potential problems individually. For &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:32.1577em;"><span class="stl_154 stl_32 stl_74" style="word-spacing:0.0848em;">example, to find all queries that returned errors, use the condition </span><span class="stl_170 stl_171 stl_28" style="word-spacing:0.0832em;">WHERE ERRORS &gt; &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:33.2571em;"><span class="stl_170 stl_171 stl_28">0</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.1237em;">; to find all queries executed for more than five seconds, use the condition </span><span class="stl_170 stl_171 stl_28">WHERE &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:34.3566em;"><span class="stl_170 stl_171 stl_28" style="word-spacing:0em;">TIMER_WAIT &gt; 5000000000</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0em;">; and so on. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:35.9066em;"><span class="stl_154 stl_32 stl_38" style="word-spacing:0.1006em;">Alternatively, you can create a query that will find all the statements with problems &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:36.9566em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0em;">using long conditions, as follows: &nbsp;</span></div>
					<div class="stl_01" style="left:7.4168em;top:38.7192em;"><span class="stl_200 stl_171 stl_28">WHERE ROWS_EXAMINED &gt; ROWS_SENT &nbsp;</span></div>
					<div class="stl_01" style="left:7.4168em;top:39.5692em;"><span class="stl_200 stl_171 stl_28">OR ROWS_EXAMINED &gt; ROWS_AFFECTED &nbsp;</span></div>
					<div class="stl_01" style="left:7.4168em;top:40.4192em;"><span class="stl_200 stl_171 stl_28" style="word-spacing:0em;">OR ERRORS &gt; 0 &nbsp;</span></div>
					<div class="stl_01" style="left:7.4168em;top:41.2692em;"><span class="stl_200 stl_171 stl_28">OR CREATED_TMP_DISK_TABLES &gt; 0 &nbsp;</span></div>
					<div class="stl_01" style="left:7.4168em;top:42.1192em;"><span class="stl_200 stl_171 stl_28">OR CREATED_TMP_TABLES &gt; 0 &nbsp;</span></div>
					<div class="stl_01" style="left:7.4168em;top:42.9692em;"><span class="stl_200 stl_171 stl_28">OR SELECT_FULL_JOIN &gt; 0 &nbsp;</span></div>
					<div class="stl_01" style="left:7.4168em;top:43.8192em;"><span class="stl_200 stl_171 stl_28">OR SELECT_FULL_RANGE_JOIN &gt; 0 &nbsp;</span></div>
					<div class="stl_01" style="left:7.4168em;top:44.6692em;"><span class="stl_200 stl_171 stl_28">OR SELECT_RANGE &gt; 0 &nbsp;</span></div>
					<div class="stl_01" style="left:7.4168em;top:45.5192em;"><span class="stl_200 stl_171 stl_28">OR SELECT_RANGE_CHECK &gt; 0 &nbsp;</span></div>
					<div class="stl_01" style="left:7.4168em;top:46.3692em;"><span class="stl_200 stl_171 stl_28">OR SELECT_SCAN &gt; 0 &nbsp;</span></div>
					<div class="stl_01" style="left:7.4168em;top:47.2192em;"><span class="stl_200 stl_171 stl_28">OR SORT_MERGE_PASSES &gt; 0 &nbsp;</span></div>
					<div class="stl_01" style="left:7.4168em;top:48.0692em;"><span class="stl_200 stl_171 stl_28">OR SORT_RANGE &gt; 0 &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">56 &nbsp;</span></div>
					<div class="stl_01" style="left:7.3619em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">|</span></div>
					<div class="stl_01" style="left:8.2694em;top:50.8098em;"><span class="stl_80 stl_27 stl_28" style="word-spacing:0em;">Chapter 3: Performance Schema &nbsp;</span></div>
				</div>
			</div>
		</div>
	</body>
</html>