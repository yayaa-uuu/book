<!DOCTYPE html><!--[if IE]>  <html class="stl_ie"> <![endif]-->
<html>
	<head>
		<meta charset="utf-8" />
		<title>
		</title>
		<link rel="stylesheet" type="text/css" href="MultiPageHTML_out_files/style.css" />
	</head>
	<body>
		<div class="stl_ stl_02">
			<div class="stl_03">
				<object data="MultiPageHTML_out_files/img_132.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:42em; height:55.0833em;">
					<embed src="MultiPageHTML_out_files/img_132.svg" type="image/svg+xml" />
				</object>
			</div>
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="left:6em;top:4.3166em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0513em;">Before you start changing your configuration, you should optimize your queries and &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:5.3666em;"><span class="stl_154 stl_32 stl_158" style="word-spacing:0.0175em;">your schema, addressing at least the obvious things such as adding indexes. If you get &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:6.4166em;"><span class="stl_154 stl_32 stl_78" style="word-spacing:0.0965em;">deep into tweaking the configuration and then change your queries or schema, you &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:7.4666em;"><span class="stl_154 stl_32 stl_39" style="word-spacing:0.0442em;">might need to reevaluate the configuration. Keep in mind that unless your hardware, &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:8.5166em;"><span class="stl_154 stl_32 stl_57" style="word-spacing:0.0524em;">workload, and data are completely static, chances are you’ll need to revisit your con‐ &nbsp;</span></div>
					<div class="stl_01" style="left:5.9996em;top:9.5666em;"><span class="stl_154 stl_32 stl_111" style="word-spacing:0.0713em;">figuration later. And in fact, most people’s servers don’t even have a steady workload &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:10.6166em;"><span class="stl_154 stl_32 stl_33" style="word-spacing:0.0908em;">throughout the day—meaning that the “perfect” configuration for the middle of the &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:11.6666em;"><span class="stl_154 stl_32 stl_47" style="word-spacing:0.2051em;">morning is not right for midafternoon! Obviously, chasing the mythical “perfect” &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:12.7166em;"><span class="stl_154 stl_32 stl_24" style="word-spacing:0.136em;">configuration is completely impractical. Thus, you don’t need to squeeze every last &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:13.7666em;"><span class="stl_154 stl_32 stl_37" style="word-spacing:0.0122em;">ounce of performance out of your server; in fact, the return for such an investment of &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:14.8166em;z-index:742;"><span class="stl_154 stl_32 stl_178" style="word-spacing:0.0901em;">time will probably be very small. </span><span class="stl_154 stl_32 stl_52">W</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0927em;">e </span><span class="stl_154 stl_32 stl_28">s</span><span class="stl_154 stl_32 stl_78" style="word-spacing:0.094em;">uggest that you focus on optimizing for your &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:15.8666em;z-index:817;"><span class="stl_154 stl_32 stl_222" style="word-spacing:0.1597em;">peak workload and then stop at “good enough</span><span class="stl_154 stl_32 stl_161">,</span><span class="stl_154 stl_32 stl_74" style="word-spacing:0.1545em;">” unless you have reason to believe &nbsp;</span></div>
					<div class="stl_01" style="left:5.9996em;top:16.9166em;"><span class="stl_154 stl_32 stl_99" style="word-spacing:0.0063em;">you’re forgoing a significant performance improvement. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:18.8131em;"><span class="stl_159 stl_27 stl_28" style="word-spacing:0em;">What Not to Do &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:21.0833em;"><span class="stl_154 stl_32 stl_122" style="word-spacing:0.0377em;">Before we get started with server configuration, we want to encourage you to avoid a &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:22.1333em;"><span class="stl_154 stl_32 stl_36" style="word-spacing:0.019em;">few common practices that we’ve found to be risky or practically not worth the effort. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:23.1833em;z-index:1050;"><span class="stl_154 stl_32 stl_113">W</span><span class="stl_154 stl_32 stl_28">a</span><span class="stl_154 stl_32 stl_35" style="word-spacing:0.0027em;">rning: rants ahead! &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:24.7333em;z-index:1069;"><span class="stl_154 stl_32 stl_109">Y</span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_84" style="word-spacing:0.0748em;">u might be expected (or believe that you’re expected) to set up a benchmark suite &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:25.7833em;"><span class="stl_154 stl_32 stl_39" style="word-spacing:0.0774em;">and “tune” your server by changing its configuration iteratively in search of optimal &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:26.8333em;"><span class="stl_154 stl_32 stl_46" style="word-spacing:0.1384em;">settings. This usually is not something we advise most people to do. It requires so &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:27.8833em;"><span class="stl_154 stl_32 stl_35" style="word-spacing:0.0098em;">much work and research, and the potential payoff is so small in most cases, that it can &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:28.9333em;z-index:1370;"><span class="stl_154 stl_32 stl_97" style="word-spacing:0.1656em;">be a huge waste of time. </span><span class="stl_154 stl_32 stl_109">Y</span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_53" style="word-spacing:0.1638em;">u are probably better off spending that time on other &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:29.9833em;"><span class="stl_154 stl_32 stl_189" style="word-spacing:-0.001em;">things such as checking your backups, monitoring changes in query plans, and so on. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:31.5333em;z-index:1509;"><span class="stl_154 stl_32 stl_109">Y</span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_150" style="word-spacing:0.1363em;">u should not “tune by ratio</span><span class="stl_154 stl_32 stl_161">.</span><span class="stl_154 stl_32 stl_151" style="word-spacing:0.1365em;">” The classic “tuning ratio” is the rule of thumb that &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:32.5833em;"><span class="stl_154 stl_32 stl_78" style="word-spacing:0.0948em;">your InnoDB buffer pool hit ratio should be higher than some percentage, and you &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:33.6333em;"><span class="stl_154 stl_32 stl_83" style="word-spacing:0.1359em;">should increase the cache size if the hit rate is too low. This is very wrong advice. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:34.6719em;"><span class="stl_154 stl_32 stl_39" style="word-spacing:0.0326em;">Regardless of what anyone tells you, </span><span class="stl_155 stl_41 stl_86" style="word-spacing:0.0466em;">the cache hit ratio has nothing to do with whether &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:35.7219em;"><span class="stl_155 stl_41 stl_214" style="word-spacing:0.0136em;">the cache is too large or too small</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0em;">. </span><span class="stl_154 stl_32 stl_105">T</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0em;">o </span><span class="stl_154 stl_32 stl_28">b</span><span class="stl_154 stl_32 stl_53" style="word-spacing:0.0012em;">egin with, the hit ratio depends on the workload &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:36.7833em;"><span class="stl_154 stl_32 stl_71" style="word-spacing:0.0724em;">—some workloads simply aren’t cacheable no matter how big the cache is—and sec‐ &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:37.8333em;"><span class="stl_154 stl_32 stl_115" style="word-spacing:0.1242em;">ondly, cache hits are meaningless, for reasons we’ll explain later. It sometimes hap‐ &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:38.8833em;"><span class="stl_154 stl_32 stl_33" style="word-spacing:0.0174em;">pens that when the cache is too small, the hit rate is low, and increasing the cache size &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:39.9333em;"><span class="stl_154 stl_32 stl_24" style="word-spacing:0.0345em;">increases the hit rate. However, this is an accidental correlation and does not indicate &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:40.9833em;"><span class="stl_154 stl_32 stl_53" style="word-spacing:0.0011em;">anything about performance or proper sizing of the cache. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:42.5333em;"><span class="stl_154 stl_32 stl_35" style="word-spacing:0.0611em;">The problem with correlations that sometimes appear to be true is that people begin &nbsp;</span></div>
					<div class="stl_01" style="left:5.9996em;top:43.5833em;"><span class="stl_154 stl_32 stl_73" style="word-spacing:0.058em;">to believe they will always be true. Oracle DBAs abandoned ratio-based tuning years &nbsp;</span></div>
					<div class="stl_01" style="left:29.6569em;top:50.8098em;"><span class="stl_80 stl_27 stl_28" style="word-spacing:0em;">What Not to Do &nbsp;</span></div>
					<div class="stl_01" style="left:34.1742em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">|</span></div>
					<div class="stl_01" style="left:35.0817em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">105 &nbsp;</span></div>
					<a name="127_0" style="position:absolute;left:0em;top:19.1647em;">&nbsp;</a>
					<a name="127_1" style="position:absolute;left:0em;top:31.7625em;">&nbsp;</a>
					<a name="127_2" style="position:absolute;left:0em;top:17.1458em;">&nbsp;</a>
					<a name="127_3" style="position:absolute;left:0em;top:21.3125em;">&nbsp;</a>
				</div>
			</div>
		</div>
	</body>
</html>