<!DOCTYPE html><!--[if IE]>  <html class="stl_ie"> <![endif]-->
<html>
	<head>
		<meta charset="utf-8" />
		<title>
		</title>
		<link rel="stylesheet" type="text/css" href="MultiPageHTML_out_files/style.css" />
	</head>
	<body>
		<div class="stl_ stl_02">
			<div class="stl_03">
				<object data="MultiPageHTML_out_files/img_46.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:42em; height:55.0833em;">
					<embed src="MultiPageHTML_out_files/img_46.svg" type="image/svg+xml" />
				</object>
			</div>
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="left:6em;top:4.3166em;z-index:19;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.199em;">will also be large. </span><span class="stl_154 stl_32 stl_109">Y</span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_53" style="word-spacing:0.2001em;">u should strive for a small primary key if you’ll have many &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:5.3666em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0em;">indexes on a table. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:6.9166em;"><span class="stl_154 stl_32 stl_53" style="word-spacing:0.0723em;">InnoDB has a variety of internal optimizations. These include predictive read-ahead &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:7.9666em;"><span class="stl_154 stl_32 stl_77" style="word-spacing:0.041em;">for prefetching data from disk, an adaptive hash index that automatically builds hash &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:9.0166em;z-index:297;"><span class="stl_154 stl_32 stl_134" style="word-spacing:0.1126em;">indexes in memory for very fast lookups, and an insert buffer to speed inserts. </span><span class="stl_154 stl_32 stl_52">W</span><span class="stl_154 stl_32 stl_52">e &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:10.0666em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0em;">cover these in </span><a href="MultiPageHTML_out97.html#97_0"><span class="stl_184 stl_32 stl_99" style="word-spacing:0.0063em;">Chapter 4 </span></a><span class="stl_154 stl_32 stl_28" style="word-spacing:0em;">of this book. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:11.6166em;"><span class="stl_154 stl_32 stl_47" style="word-spacing:0.065em;">InnoDB’s behavior is very intricate, and we highly recommend reading the </span><a href="https://oreil.ly/AfuTi" target="_blank"><span class="stl_184 stl_32 stl_28">“InnoDB &nbsp;</span></a></div>
					<div class="stl_01" style="left:5.9996em;top:12.6666em;"><a href="https://oreil.ly/AfuTi" target="_blank"><span class="stl_184 stl_32 stl_103" style="word-spacing:0.2967em;">Locking and Transaction Model” </span></a><span class="stl_154 stl_32 stl_108" style="word-spacing:0.2943em;">section of the MySQL manual if you’re using &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:13.7166em;"><span class="stl_154 stl_32 stl_35" style="word-spacing:0.0658em;">InnoDB. Because of its MVCC architecture, there are many subtleties you should be &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:14.7666em;"><span class="stl_154 stl_32 stl_54" style="word-spacing:0.0423em;">aware of before building an application with InnoDB. </span><span class="stl_154 stl_32 stl_52">W</span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0383em;">rking with a storage engine &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:15.8166em;"><span class="stl_154 stl_32 stl_35" style="word-spacing:0.1221em;">that maintains consistent views of the data for all users, even when some users are &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:16.8666em;"><span class="stl_154 stl_32 stl_48" style="word-spacing:0.0036em;">changing data, can be complex. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:18.4166em;"><span class="stl_154 stl_32 stl_88" style="word-spacing:0.2877em;">As a transactional storage engine, InnoDB supports truly “hot” online backups &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:19.4666em;z-index:806;"><span class="stl_154 stl_32 stl_77" style="word-spacing:0.1173em;">through a variety of mechanisms, including Oracle</span><span class="stl_154 stl_32 stl_34">’</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.1142em;">s </span><span class="stl_154 stl_32 stl_28">p</span><span class="stl_154 stl_32 stl_73" style="word-spacing:0.1162em;">roprietary MySQL Enterprise &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:20.5166em;z-index:875;"><span class="stl_154 stl_32 stl_71" style="word-spacing:0.0458em;">Backup and the open source Percona XtraBackup. </span><span class="stl_154 stl_32 stl_52">W</span><span class="stl_154 stl_32 stl_219">e</span><span class="stl_154 stl_32 stl_220">’</span><span class="stl_154 stl_32 stl_95" style="word-spacing:0.0418em;">ll dive into backup and restore &nbsp;</span></div>
					<div class="stl_01" style="left:5.9996em;top:21.5666em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0em;">in detail in </span><a href="MultiPageHTML_out279.html#279_0"><span class="stl_184 stl_32 stl_38" style="word-spacing:0.0048em;">Chapter 10</span></a><span class="stl_154 stl_32 stl_38" style="word-spacing:0.0048em;">. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9996em;top:23.1166em;"><span class="stl_154 stl_32 stl_95" style="word-spacing:0.0369em;">Beginning with MySQL 5.6, InnoDB introduced online DDL, which at first had limi‐ &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:24.1666em;"><span class="stl_154 stl_32 stl_158" style="word-spacing:0.0097em;">ted use cases that expanded in the 5.7 and 8.0 releases. In-place schema changes allow &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:25.2166em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0974em;">for specific table changes without a full table lock and without using external tools, &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:26.2666em;z-index:1192;"><span class="stl_154 stl_32 stl_36" style="word-spacing:0.0267em;">which greatly improve the operationality of MySQL InnoDB tables. </span><span class="stl_154 stl_32 stl_52">W</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0229em;">e </span><span class="stl_154 stl_32 stl_28">w</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0229em;">ill be cover‐ &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:27.3166em;"><span class="stl_154 stl_32 stl_140" style="word-spacing:0.0008em;">ing options for online schema changes, both native and external tools, in </span><a href="MultiPageHTML_out147.html#147_0"><span class="stl_184 stl_32 stl_24" style="word-spacing:0.0054em;">Chapter 6</span></a><span class="stl_154 stl_32 stl_24" style="word-spacing:0.0054em;">. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9996em;top:29.2009em;"><span class="stl_180 stl_27 stl_28" style="word-spacing:0em;">JSON Document Support &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:31.1007em;"><span class="stl_154 stl_32 stl_140" style="word-spacing:0.1582em;">First introduced to InnoDB as part of the 5.7 release, the JSON type arrived with &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:32.1507em;"><span class="stl_154 stl_32 stl_77" style="word-spacing:0.053em;">automatic validation of JSON documents as well as optimized storage that allows for &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:33.2007em;"><span class="stl_154 stl_32 stl_140" style="word-spacing:0.0009em;">quick read access, a significant improvement to the trade-offs of old-style binary large &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:34.2507em;"><span class="stl_154 stl_32 stl_158" style="word-spacing:0.0864em;">object (BLOB) storage engineers used to resort to for JSON documents. Along with &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:35.3007em;"><span class="stl_154 stl_32 stl_78" style="word-spacing:0.1287em;">the new data type support, InnoDB also introduced SQL functions to support rich &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:36.3507em;"><span class="stl_154 stl_32 stl_33" style="word-spacing:0.1545em;">operations on JSON documents. A further improvement in MySQL 8.0.7 adds the &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:37.4007em;"><span class="stl_154 stl_32 stl_73" style="word-spacing:0.0606em;">ability to define multivalued indexes on JSON arrays. This feature can be a powerful &nbsp;</span></div>
					<div class="stl_01" style="left:5.9996em;top:38.4507em;"><span class="stl_154 stl_32 stl_78" style="word-spacing:0.1764em;">way to even further speed up read-access queries to JSON types by matching the &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:39.5007em;z-index:1908;"><span class="stl_154 stl_32 stl_97" style="word-spacing:0.0064em;">common access patterns to functions that can map the JSON document values. </span><span class="stl_154 stl_32 stl_52">W</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0034em;">e </span><span class="stl_154 stl_32 stl_28">g</span><span class="stl_154 stl_32 stl_28">o &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:40.5507em;"><span class="stl_154 stl_32 stl_46" style="word-spacing:0.0455em;">over the use and performance implications of the JSON data type in </span><a href="MultiPageHTML_out161.html#161_0"><span class="stl_184 stl_32 stl_221" style="word-spacing:0.0684em;">“JSON Data” on &nbsp;</span></a></div>
					<div class="stl_01" style="left:5.9997em;top:41.6007em;"><a href="MultiPageHTML_out161.html#161_0"><span class="stl_184 stl_32 stl_28" style="word-spacing:0em;">page 139 </span></a><span class="stl_154 stl_32 stl_28" style="word-spacing:0em;">in </span><a href="MultiPageHTML_out147.html#147_0"><span class="stl_184 stl_32 stl_24" style="word-spacing:0.0054em;">Chapter 6</span></a><span class="stl_154 stl_32 stl_24" style="word-spacing:0.0054em;">. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:43.485em;"><span class="stl_180 stl_27 stl_28" style="word-spacing:0em;">Data Dictionary Changes &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:45.3848em;"><span class="stl_154 stl_32 stl_83" style="word-spacing:0.1161em;">Another major change in MySQL 8.0 is removing file-based table metadata storage &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:46.4348em;"><span class="stl_154 stl_32 stl_37" style="word-spacing:-0.0004em;">and moving to a data dictionary using InnoDB table storage. This change brings all of &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:47.4848em;"><span class="stl_154 stl_32 stl_48" style="word-spacing:0.1305em;">InnoDB’s crash-recovery transactional benefits to operations like changes to tables. &nbsp;</span></div>
					<div class="stl_01" style="left:29.069em;top:50.8098em;"><span class="stl_80 stl_27 stl_28" style="word-spacing:0em;">The InnoDB Engine &nbsp;</span></div>
					<div class="stl_01" style="left:34.4803em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">|</span></div>
					<div class="stl_01" style="left:35.3878em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">17 &nbsp;</span></div>
					<a name="39_0" style="position:absolute;left:0em;top:29.494em;">&nbsp;</a>
					<a name="39_1" style="position:absolute;left:0em;top:43.7781em;">&nbsp;</a>
					<a name="39_2" style="position:absolute;left:0em;top:45.614em;">&nbsp;</a>
					<a name="39_3" style="position:absolute;left:0em;top:31.3299em;">&nbsp;</a>
				</div>
			</div>
		</div>
	</body>
</html>