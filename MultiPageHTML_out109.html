<!DOCTYPE html><!--[if IE]>  <html class="stl_ie"> <![endif]-->
<html>
	<head>
		<meta charset="utf-8" />
		<title>
		</title>
		<link rel="stylesheet" type="text/css" href="MultiPageHTML_out_files/style.css" />
	</head>
	<body>
		<div class="stl_ stl_02">
			<div class="stl_03">
				<object data="MultiPageHTML_out_files/img_115.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:42em; height:55.0833em;">
					<embed src="MultiPageHTML_out_files/img_115.svg" type="image/svg+xml" />
				</object>
			</div>
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="left:6em;top:4.3166em;"><span class="stl_154 stl_32 stl_57" style="word-spacing:0.0022em;">Sometimes you might need to change these values to a larger range. For example: &nbsp;</span></div>
					<div class="stl_01" style="left:7.4167em;top:6.0785em;"><span class="stl_200 stl_171 stl_28">$ </span><span class="stl_265 stl_173 stl_28">echo 1024 65535 &gt; /proc/sys/net/ipv4/ip_local_port_range &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:7.2166em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.06em;">The TCP protocol allows a system to queue up incoming connections, like a bucket. &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:8.2666em;z-index:237;"><span class="stl_154 stl_32 stl_108" style="word-spacing:0.1184em;">If the bucket fills up, clients won’t be able to connect. </span><span class="stl_154 stl_32 stl_109">Y</span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.1092em;">u can allow more connec‐ &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:9.3166em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0em;">tions to queue up as follows: &nbsp;</span></div>
					<div class="stl_01" style="left:7.4168em;top:11.0785em;"><span class="stl_200 stl_171 stl_28">$ </span><span class="stl_265 stl_173 stl_28">echo 4096 &gt; /proc/sys/net/ipv4/tcp_max_syn_backlog &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:12.2166em;"><span class="stl_154 stl_32 stl_72" style="word-spacing:0.2023em;">For database servers that are used only locally, you can shorten the timeout that &nbsp;</span></div>
					<div class="stl_01" style="left:5.9996em;top:13.2666em;"><span class="stl_154 stl_32 stl_71" style="word-spacing:0.0658em;">comes after closing a socket in the event that the peer is broken and doesn’t close its &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:14.3166em;"><span class="stl_154 stl_32 stl_57" style="word-spacing:0.1086em;">side of the connection. The default is one minute on most systems, which is rather &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:15.3666em;"><span class="stl_154 stl_32 stl_28">long: &nbsp;</span></div>
					<div class="stl_01" style="left:7.4167em;top:17.1285em;"><span class="stl_200 stl_171 stl_28">$ </span><span class="stl_265 stl_173 stl_28">echo </span><span class="stl_200 stl_171 stl_28">&lt;value&gt; &gt; </span><span class="stl_265 stl_173 stl_28">/proc/sys/net/ipv4/tcp_fin_timeout &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:18.2666em;z-index:642;"><span class="stl_154 stl_32 stl_77" style="word-spacing:0.1106em;">Most of the time, these settings can be left at their defaults. </span><span class="stl_154 stl_32 stl_109">Y</span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_88" style="word-spacing:0.1085em;">u’ll typically need to &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:19.3166em;"><span class="stl_154 stl_32 stl_78" style="word-spacing:0.1684em;">change them only when something unusual is happening, such as extremely poor &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:20.3666em;"><span class="stl_154 stl_32 stl_87" style="word-spacing:0.0948em;">network performance or very large numbers of connections. An Internet search for &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:21.4166em;"><span class="stl_154 stl_32 stl_74" style="word-spacing:0.2611em;">“TCP variables” will turn up lots of good reading about these and many more &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:22.4666em;"><span class="stl_154 stl_32 stl_28">variables. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:24.3631em;"><span class="stl_159 stl_27 stl_28" style="word-spacing:0em;">Choosing a Filesystem &nbsp;</span></div>
					<div class="stl_01" style="left:5.9996em;top:26.6333em;z-index:888;"><span class="stl_154 stl_32 stl_109">Y</span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_57" style="word-spacing:0.0381em;">ur filesystem choices are pretty dependent on your operating system. In many sys‐ &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:27.6833em;"><span class="stl_154 stl_32 stl_46" style="word-spacing:0.2255em;">tems, such as Windows, you really have only one or two choices, and only one &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:28.7333em;"><span class="stl_154 stl_32 stl_78" style="word-spacing:0.0014em;">(NTFS) is really viable. GNU/Linux, on the other hand, supports many filesystems. &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:30.2833em;"><span class="stl_154 stl_32 stl_57" style="word-spacing:0.2123em;">Many people want to know which filesystems will give the best performance for &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:31.3333em;"><span class="stl_154 stl_32 stl_43" style="word-spacing:0.1515em;">MySQL on GNU/Linux or, even more specifically, which of the choices is best for &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:32.3833em;"><span class="stl_154 stl_32 stl_122" style="word-spacing:0.1482em;">InnoDB. The benchmarks actually show that most of them are very close in most &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:33.4333em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0082em;">respects, but looking to the filesystem for performance is really a distraction. The file‐ &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:34.4833em;"><span class="stl_154 stl_32 stl_114" style="word-spacing:0.1143em;">system’s performance is very workload specific, and no filesystem is a magic bullet. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9996em;top:35.5333em;"><span class="stl_154 stl_32 stl_143" style="word-spacing:0.0684em;">Most of the time, a given filesystem won’t perform significantly better or worse than &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:36.5833em;"><span class="stl_154 stl_32 stl_78" style="word-spacing:0.0863em;">any other filesystem. The exception is if you run into some filesystem limit, such as &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:37.6333em;"><span class="stl_154 stl_32 stl_38" style="word-spacing:0.0048em;">how it deals with concurrency, working with many files, fragmentation, and so on. &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:39.1833em;"><span class="stl_154 stl_32 stl_57" style="word-spacing:0.016em;">Overall, you’re best off using a journaling filesystem, such as ext4, XFS, or ZFS. If you &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:40.2333em;"><span class="stl_154 stl_32 stl_120" style="word-spacing:0.0061em;">don’t, a filesystem check after a crash can take a long time. &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:41.7833em;"><span class="stl_154 stl_32 stl_36" style="word-spacing:0.042em;">If you use ext3 or its successor, ext4, you have three options for how the data is jour‐ &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:42.8219em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0em;">naled, which you can place in the </span><span class="stl_155 stl_41 stl_164" style="word-spacing:0.0127em;">/etc/fstab </span><span class="stl_154 stl_32 stl_39" style="word-spacing:0.0035em;">mount options: &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:44.6915em;"><span class="stl_170 stl_171 stl_28">data=writeback &nbsp;</span></div>
					<div class="stl_01" style="left:7.4997em;top:45.5661em;"><span class="stl_154 stl_32 stl_84" style="word-spacing:0.1369em;">This option means only metadata writes are journaled. Writes to the metadata &nbsp;</span></div>
					<div class="stl_01" style="left:7.5001em;top:46.6161em;"><span class="stl_154 stl_32 stl_78" style="word-spacing:0.0896em;">are not synchronized with the data writes. This is the fastest configuration, and &nbsp;</span></div>
					<div class="stl_01" style="left:7.4996em;top:47.6547em;z-index:2042;"><span class="stl_154 stl_32 stl_331" style="word-spacing:0.1946em;">it’s </span><span class="stl_155 stl_41 stl_214" style="word-spacing:0.1249em;">usually </span><span class="stl_154 stl_32 stl_88" style="word-spacing:0.1142em;">safe to use with InnoDB because it has its own transaction log. The &nbsp;</span></div>
					<div class="stl_01" style="left:28.3143em;top:50.8098em;"><span class="stl_80 stl_27 stl_28" style="word-spacing:0em;">Choosing a Filesystem &nbsp;</span></div>
					<div class="stl_01" style="left:34.4808em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">|</span></div>
					<div class="stl_01" style="left:35.3883em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">87 &nbsp;</span></div>
					<a name="109_0" style="position:absolute;left:0em;top:24.7147em;">&nbsp;</a>
					<a name="109_1" style="position:absolute;left:0em;top:39.4125em;">&nbsp;</a>
					<a name="109_2" style="position:absolute;left:0em;top:26.8625em;">&nbsp;</a>
				</div>
			</div>
		</div>
	</body>
</html>