<!DOCTYPE html><!--[if IE]>  <html class="stl_ie"> <![endif]-->
<html>
	<head>
		<meta charset="utf-8" />
		<title>
		</title>
		<link rel="stylesheet" type="text/css" href="MultiPageHTML_out_files/style.css" />
	</head>
	<body>
		<div class="stl_ stl_02">
			<div class="stl_03">
				<object data="MultiPageHTML_out_files/img_172.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:42em; height:55.0833em;">
					<embed src="MultiPageHTML_out_files/img_172.svg" type="image/svg+xml" />
				</object>
			</div>
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="left:7.4998em;top:4.3166em;z-index:19;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.1143em;">is equally “hot</span><span class="stl_154 stl_32 stl_161">,</span><span class="stl_154 stl_32 stl_54" style="word-spacing:0.1183em;">” there is no advantage to having any particular part of the data &nbsp;</span></div>
					<div class="stl_01" style="left:7.5001em;top:5.3666em;"><span class="stl_154 stl_32 stl_48" style="word-spacing:0.0556em;">cached in memory, and if the working set does not fit in memory, the cache will &nbsp;</span></div>
					<div class="stl_01" style="left:7.4996em;top:6.4166em;"><span class="stl_154 stl_32 stl_95" style="word-spacing:0.0018em;">have a lot of flushes and misses. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:8.2999em;"><span class="stl_154 stl_32 stl_158" style="word-spacing:0.0916em;">If you do store universally unique identifier (UUID) values, you should remove the &nbsp;</span></div>
					<div class="stl_01" style="left:5.9996em;top:9.3994em;"><span class="stl_154 stl_32 stl_124" style="word-spacing:0.1476em;">dashes or, even better, convert the UUID values to 16-byte numbers with </span><span class="stl_170 stl_171 stl_28">UNHEX() &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:10.4988em;z-index:334;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0652em;">and store them in a </span><span class="stl_170 stl_171 stl_28" style="word-spacing:-0.1924em;">BINARY(16) </span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0652em;">column. </span><span class="stl_154 stl_32 stl_109">Y</span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0652em;">u can retrieve the values in hexadecimal &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:11.5982em;"><span class="stl_154 stl_32 stl_36" style="word-spacing:0.0038em;">format with the </span><span class="stl_170 stl_171 stl_28">HEX(</span><span class="stl_170 stl_171 stl_186">)</span><span class="stl_154 stl_32 stl_28">function. &nbsp;</span></div>
					<div class="stl_01" style="left:13.8006em;top:14.1987em;"><span class="stl_239 stl_27 stl_28" style="word-spacing:0em;">Beware of Autogenerated Schemas &nbsp;</span></div>
					<div class="stl_01" style="left:6.6873em;top:15.9467em;"><span class="stl_31 stl_32 stl_108" style="word-spacing:0.1183em;">We’ve covered the most important data type considerations (some with serious and &nbsp;</span></div>
					<div class="stl_01" style="left:6.6873em;top:16.9467em;"><span class="stl_31 stl_32 stl_47" style="word-spacing:0.0202em;">others with more minor performance implications), but we haven’t yet told you about &nbsp;</span></div>
					<div class="stl_01" style="left:6.6873em;top:17.9467em;"><span class="stl_31 stl_32 stl_97" style="word-spacing:0.0029em;">the evils of autogenerated schemas. &nbsp;</span></div>
					<div class="stl_01" style="left:6.6873em;top:19.4467em;"><span class="stl_31 stl_32 stl_46" style="word-spacing:0.0925em;">Badly written schema migration programs and programs that autogenerate schemas &nbsp;</span></div>
					<div class="stl_01" style="left:6.6873em;top:20.4937em;"><span class="stl_31 stl_32 stl_140" style="word-spacing:0.0583em;">can cause severe performance problems. Some programs use large </span><span class="stl_349 stl_171 stl_28">VARCHA</span><span class="stl_349 stl_171 stl_326">R</span><span class="stl_31 stl_32 stl_28" style="word-spacing:0.0575em;">fields for &nbsp;</span></div>
					<div class="stl_01" style="left:6.6873em;top:21.4937em;"><span class="stl_31 stl_32 stl_88" style="word-spacing:0.0605em;">everything or use different data types for columns that will be compared in joins. Be &nbsp;</span></div>
					<div class="stl_01" style="left:6.6873em;top:22.4937em;z-index:863;"><span class="stl_31 stl_32 stl_143" style="word-spacing:0.0055em;">sure to double-check a schema if it was created for you automatically. &nbsp;</span></div>
					<div class="stl_01" style="left:6.6873em;top:23.9937em;"><span class="stl_31 stl_32 stl_72" style="word-spacing:0.0502em;">Object-relational mapping (ORM) systems (and the “frameworks” that use them) are &nbsp;</span></div>
					<div class="stl_01" style="left:6.6873em;top:24.9937em;"><span class="stl_31 stl_32 stl_57" style="word-spacing:0.0931em;">frequently another performance nightmare. Some of these systems let you store any &nbsp;</span></div>
					<div class="stl_01" style="left:6.6873em;top:25.9937em;"><span class="stl_31 stl_32 stl_124" style="word-spacing:0.2321em;">type of data in any type of backend data store, which usually means they aren’t &nbsp;</span></div>
					<div class="stl_01" style="left:6.6873em;top:26.9937em;"><span class="stl_31 stl_32 stl_74" style="word-spacing:0.1464em;">designed to use the strengths of any of the data stores. Sometimes they store each &nbsp;</span></div>
					<div class="stl_01" style="left:6.6873em;top:27.9937em;"><span class="stl_31 stl_32 stl_36" style="word-spacing:0.0518em;">property of each object in a separate row, even using timestamp-based versioning, so &nbsp;</span></div>
					<div class="stl_01" style="left:6.6873em;top:28.9937em;"><span class="stl_31 stl_32 stl_53" style="word-spacing:0.0012em;">there are multiple versions of each property! &nbsp;</span></div>
					<div class="stl_01" style="left:6.6873em;top:30.4937em;"><span class="stl_31 stl_32 stl_46" style="word-spacing:0.0418em;">This design may appeal to developers because it lets them work in an object-oriented &nbsp;</span></div>
					<div class="stl_01" style="left:6.6873em;top:31.4937em;"><span class="stl_31 stl_32 stl_114" style="word-spacing:0.0377em;">fashion without needing to think about how the data is stored. However, applications &nbsp;</span></div>
					<div class="stl_01" style="left:6.6873em;top:32.4937em;z-index:1448;"><span class="stl_31 stl_32 stl_148" style="word-spacing:0.0385em;">that “hide complexity from developers” usually don’t scale well. </span><span class="stl_31 stl_32 stl_52">W</span><span class="stl_31 stl_32 stl_28" style="word-spacing:0.0302em;">e </span><span class="stl_31 stl_32 stl_28">s</span><span class="stl_31 stl_32 stl_28" style="word-spacing:0.0302em;">uggest you think &nbsp;</span></div>
					<div class="stl_01" style="left:6.6873em;top:33.4937em;"><span class="stl_31 stl_32 stl_97" style="word-spacing:0.0525em;">carefully before trading performance for developer productivity, and always test on a &nbsp;</span></div>
					<div class="stl_01" style="left:6.6873em;top:34.4937em;"><span class="stl_31 stl_32 stl_123" style="word-spacing:0.0052em;">realistically large data set, so you don’t discover performance problems too late. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:37.2588em;"><span class="stl_180 stl_27 stl_28" style="word-spacing:0em;">Special Types of Data &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:39.1586em;"><span class="stl_154 stl_32 stl_24" style="word-spacing:0.0976em;">Some kinds of data don’t correspond directly to the available built-in types. A good &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:40.258em;"><span class="stl_154 stl_32 stl_48" style="word-spacing:0.2582em;">example is an IPv4 address. People often use </span><span class="stl_170 stl_171 stl_28" style="word-spacing:0.0071em;">VARCHAR(15) </span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.2547em;">columns to store IP &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:41.308em;"><span class="stl_154 stl_32 stl_39" style="word-spacing:0.0508em;">addresses. However, they are really unsigned 32-bit integers, not strings. The dotted- &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:42.358em;z-index:1904;"><span class="stl_154 stl_32 stl_47" style="word-spacing:0.0868em;">quad notation is just a way of writing it out so that humans can read it more easily. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:43.408em;z-index:1906;"><span class="stl_154 stl_32 stl_109">Y</span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_57" style="word-spacing:0.5395em;">u should store IP addresses as unsigned integers. MySQL provides the &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:44.5074em;"><span class="stl_170 stl_171 stl_28">INET_ATON(</span><span class="stl_170 stl_171 stl_317">)</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.02em;">and </span><span class="stl_170 stl_171 stl_28">INET_NTOA(</span><span class="stl_170 stl_171 stl_317">)</span><span class="stl_154 stl_32 stl_97" style="word-spacing:0.0229em;">functions to convert between the two representations. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:45.6069em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.1395em;">The space used shrinks from ~16 bytes for a </span><span class="stl_170 stl_171 stl_28" style="word-spacing:-0.1142em;">VARCHAR(15) </span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.1395em;">down to 4 bytes for an &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:46.6569em;"><span class="stl_154 stl_32 stl_120" style="word-spacing:0.1788em;">unsigned 32-bit integer. If you’re concerned about readability in the database and &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">144 &nbsp;</span></div>
					<div class="stl_01" style="left:7.6678em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">|</span></div>
					<div class="stl_01" style="left:8.5753em;top:50.8098em;"><span class="stl_80 stl_27 stl_28" style="word-spacing:0em;">Chapter 6: Schema Design and Management &nbsp;</span></div>
					<a name="166_0" style="position:absolute;left:0em;top:37.5519em;">&nbsp;</a>
					<a name="166_1" style="position:absolute;left:0em;top:16.165em;">&nbsp;</a>
					<a name="166_2" style="position:absolute;left:0em;top:34.7121em;">&nbsp;</a>
					<a name="166_3" style="position:absolute;left:0em;top:39.3878em;">&nbsp;</a>
					<a name="166_4" style="position:absolute;left:0em;top:24.2121em;">&nbsp;</a>
					<a name="166_5" style="position:absolute;left:0em;top:8.5292em;">&nbsp;</a>
				</div>
			</div>
		</div>
	</body>
</html>