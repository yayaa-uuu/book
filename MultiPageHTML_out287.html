<!DOCTYPE html><!--[if IE]>  <html class="stl_ie"> <![endif]-->
<html>
	<head>
		<meta charset="utf-8" />
		<title>
		</title>
		<link rel="stylesheet" type="text/css" href="MultiPageHTML_out_files/style.css" />
	</head>
	<body>
		<div class="stl_ stl_02">
			<div class="stl_03">
				<object data="MultiPageHTML_out_files/img_312.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:42em; height:55.0833em;">
					<embed src="MultiPageHTML_out_files/img_312.svg" type="image/svg+xml" />
				</object>
			</div>
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="left:7.5003em;top:4.3166em;"><span class="stl_154 stl_32 stl_97" style="word-spacing:0.1172em;">also used for purposes other than storing table data (the insert buffer, the roll‐ &nbsp;</span></div>
					<div class="stl_01" style="left:7.4998em;top:5.3666em;"><span class="stl_154 stl_32 stl_46" style="word-spacing:0.0025em;">back segment, etc.). &nbsp;</span></div>
					<div class="stl_01" style="left:6.7213em;top:6.7499em;"><span class="stl_154 stl_32 stl_73" style="word-spacing:0.1589em;">• Raw backups are not always portable across platforms, operating systems, and &nbsp;</span></div>
					<div class="stl_01" style="left:7.5001em;top:7.7999em;"><span class="stl_154 stl_32 stl_97" style="word-spacing:0.0786em;">MySQL versions. Filename case sensitivity and floating-point formats are places &nbsp;</span></div>
					<div class="stl_01" style="left:7.4996em;top:8.8499em;z-index:355;"><span class="stl_154 stl_32 stl_97" style="word-spacing:0.0273em;">where you might encounter trouble. </span><span class="stl_154 stl_32 stl_109">Y</span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_95" style="word-spacing:0.026em;">u might not be able to move files to a sys‐ &nbsp;</span></div>
					<div class="stl_01" style="left:7.5em;top:9.8999em;"><span class="stl_154 stl_32 stl_143" style="word-spacing:0.0884em;">tem whose floating-point format is different (however, the vast majority of pro‐ &nbsp;</span></div>
					<div class="stl_01" style="left:7.5004em;top:10.9499em;"><span class="stl_154 stl_32 stl_39" style="word-spacing:0.0035em;">cessors use the IEEE floating-point format). &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:12.8333em;z-index:548;"><span class="stl_154 stl_32 stl_95" style="word-spacing:0.0992em;">Raw backups are generally easier and much more efficient.</span><sup style="top: -0.2917em;"><a href="MultiPageHTML_out287.html#287_1"><span class="stl_166 stl_32 stl_28" style="word-spacing:0.3406em;">5 </span></a></sup><span class="stl_154 stl_32 stl_109">Y</span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0973em;">u should not rely on &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:13.8833em;"><span class="stl_154 stl_32 stl_46" style="word-spacing:0.0957em;">raw backups for long-term retention or legal requirements, though; you must make &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:14.9333em;z-index:667;"><span class="stl_154 stl_32 stl_99" style="word-spacing:0.0063em;">logical backups at least periodically. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:16.4833em;"><span class="stl_154 stl_32 stl_55" style="word-spacing:0.1064em;">Don’t consider a backup (especially a raw backup) to be good until you’ve tested it. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:17.5333em;"><span class="stl_154 stl_32 stl_73" style="word-spacing:0.012em;">For InnoDB, that means starting a MySQL instance and letting InnoDB recovery run, &nbsp;</span></div>
					<div class="stl_01" style="left:5.9996em;top:18.6213em;z-index:831;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0552em;">then running </span><span class="stl_170 stl_171 stl_28" style="word-spacing:0.0552em;">CHECK TABLES</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0552em;">. </span><span class="stl_154 stl_32 stl_109">Y</span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0552em;">u can skip this or just run </span><span class="stl_155 stl_41 stl_45" style="word-spacing:0.0716em;">innochecksum </span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0552em;">on the files, &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:19.6827em;"><span class="stl_154 stl_32 stl_214" style="word-spacing:0.0136em;">but we don’t recommend it. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:21.2327em;z-index:899;"><span class="stl_154 stl_32 stl_52" style="word-spacing:0.3604em;">We </span><span class="stl_154 stl_32 stl_28">s</span><span class="stl_154 stl_32 stl_97" style="word-spacing:0.1694em;">uggest a blend of the two approaches: make raw copies, then start a MySQL &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:22.2713em;z-index:1036;"><span class="stl_154 stl_32 stl_126" style="word-spacing:0.0155em;">server instance with the resulting data and run </span><span class="stl_155 stl_41 stl_82">mysqlcheck</span><span class="stl_154 stl_32 stl_20" style="word-spacing:0.0249em;">. Then, at least periodically, &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:23.3213em;"><span class="stl_154 stl_32 stl_124" style="word-spacing:0.0286em;">dump the data with </span><span class="stl_155 stl_41 stl_230" style="word-spacing:0.037em;">mysqldump </span><span class="stl_154 stl_32 stl_35" style="word-spacing:0.0244em;">to get a logical backup. This gives you the advantages &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:24.3827em;"><span class="stl_154 stl_32 stl_37" style="word-spacing:0.2423em;">of both approaches without unduly burdening the production server during the &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:25.4327em;"><span class="stl_154 stl_32 stl_183" style="word-spacing:0.1217em;">dump. It’s especially convenient if you have the ability to take filesystem snapshots: &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:26.4827em;"><span class="stl_154 stl_32 stl_87" style="word-spacing:0.0458em;">you can take a snapshot, copy the snapshot to another server and release it, then test &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:27.5327em;"><span class="stl_154 stl_32 stl_39" style="word-spacing:0.0034em;">the raw files and perform a logical backup. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:29.417em;"><span class="stl_180 stl_27 stl_28" style="word-spacing:0em;">What to Back Up &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:31.3168em;z-index:1366;"><span class="stl_154 stl_32 stl_109">Y</span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_39" style="word-spacing:0.0144em;">ur recovery requirements will dictate what you need to back up. The simplest strat‐ &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:32.3668em;"><span class="stl_154 stl_32 stl_158" style="word-spacing:0.1384em;">egy is to just back up your data and table definitions, but this is a bare-minimum &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:33.4168em;z-index:1514;"><span class="stl_154 stl_32 stl_38" style="word-spacing:0.1213em;">approach. </span><span class="stl_154 stl_32 stl_109">Y</span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_188" style="word-spacing:0.1152em;">u generally need a lot more to recover a server for use in production. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:34.4668em;"><span class="stl_154 stl_32 stl_97" style="word-spacing:0.003em;">Here are some things you might consider including with your MySQL backups: &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:36.0887em;"><span class="stl_155 stl_41 stl_86" style="word-spacing:0.0175em;">Nonobvious data &nbsp;</span></div>
					<div class="stl_01" style="left:7.4996em;top:37.1501em;"><span class="stl_154 stl_32 stl_108" style="word-spacing:0.1054em;">Don’t forget data that’s easy to overlook: your binary logs and InnoDB transac‐ &nbsp;</span></div>
					<div class="stl_01" style="left:7.5em;top:38.2001em;"><span class="stl_154 stl_32 stl_84" style="word-spacing:0.1051em;">tion logs, for example. Ideally, you should back up the entire data directory for &nbsp;</span></div>
					<div class="stl_01" style="left:7.5004em;top:39.2501em;z-index:1797;"><span class="stl_154 stl_32 stl_192" style="word-spacing:0.0158em;">MySQL together. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:40.8721em;"><span class="stl_155 stl_41 stl_39">Code &nbsp;</span></div>
					<div class="stl_01" style="left:7.5004em;top:41.9335em;"><span class="stl_154 stl_32 stl_122" style="word-spacing:0.0302em;">A modern MySQL server can store a lot of code, such as triggers and stored pro‐ &nbsp;</span></div>
					<div class="stl_01" style="left:7.4999em;top:43.0329em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.023em;">cedures. If you back up the </span><span class="stl_170 stl_171 stl_28">mysq</span><span class="stl_170 stl_171 stl_309">l</span><span class="stl_154 stl_32 stl_97" style="word-spacing:0.026em;">database, you’ll back up much of this code, but &nbsp;</span></div>
					<div class="stl_01" style="left:7.5003em;top:44.0829em;"><span class="stl_154 stl_32 stl_57" style="word-spacing:0.0255em;">then it will be hard to restore a single database in its entirety because some of the &nbsp;</span></div>
					<div class="stl_01" style="left:6.095em;top:47.4369em;"><span class="stl_167 stl_32 stl_28">5</span></div>
					<div class="stl_01" style="left:6.6667em;top:47.3458em;"><span class="stl_168 stl_32 stl_152" style="word-spacing:0.0114em;">It’s worth mentioning that raw backups can be more prone to errors; it’s hard to beat the simplicity of </span><span class="stl_229 stl_41 stl_20">mysql‐ &nbsp;</span></div>
					<div class="stl_01" style="left:6.6667em;top:48.1792em;"><span class="stl_229 stl_41 stl_156">dump</span><span class="stl_168 stl_32 stl_156">. &nbsp;</span></div>
					<div class="stl_01" style="left:24.6581em;top:50.8098em;"><span class="stl_80 stl_27 stl_28" style="word-spacing:0em;">Designing a MySQL Backup Solution &nbsp;</span></div>
					<div class="stl_01" style="left:34.1748em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">|</span></div>
					<div class="stl_01" style="left:35.0823em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">265 &nbsp;</span></div>
					<a name="287_0" style="position:absolute;left:0em;top:29.7101em;">&nbsp;</a>
					<a name="287_1" style="position:absolute;left:0em;top:47.4458em;">&nbsp;</a>
					<a name="287_2" style="position:absolute;left:0em;top:27.7619em;">&nbsp;</a>
					<a name="287_3" style="position:absolute;left:0em;top:31.546em;">&nbsp;</a>
				</div>
			</div>
		</div>
	</body>
</html>