<!DOCTYPE html><!--[if IE]>  <html class="stl_ie"> <![endif]-->
<html>
	<head>
		<meta charset="utf-8" />
		<title>
		</title>
		<link rel="stylesheet" type="text/css" href="MultiPageHTML_out_files/style.css" />
	</head>
	<body>
		<div class="stl_ stl_02">
			<div class="stl_03">
				<object data="MultiPageHTML_out_files/img_133.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:42em; height:55.0833em;">
					<embed src="MultiPageHTML_out_files/img_133.svg" type="image/svg+xml" />
				</object>
			</div>
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="left:5.9998em;top:4.3166em;z-index:364;"><span class="stl_154 stl_32 stl_114" style="word-spacing:0.143em;">ago, and we wish MySQL DBAs would follow their lead.</span><sup style="top: -0.2917em;"><a href="MultiPageHTML_out128.html#128_1"><span class="stl_166 stl_32 stl_28" style="word-spacing:0.4117em;">2 </span></a></sup><span class="stl_154 stl_32 stl_52">W</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.138em;">e </span><span class="stl_154 stl_32 stl_28">w</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.138em;">ish even more fer‐ &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:5.3666em;"><span class="stl_154 stl_32 stl_138" style="word-spacing:0.0624em;">vently that people wouldn’t write “tuning scripts” that codify these dangerous practi‐ &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:6.4166em;"><span class="stl_154 stl_32 stl_140" style="word-spacing:0.0357em;">ces and teach them to thousands of people. This leads to our next suggestion of what &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:7.4666em;"><span class="stl_154 stl_32 stl_54" style="word-spacing:0.0692em;">not to do: don’t use tuning scripts! There are several very popular ones that you can &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:8.5166em;"><span class="stl_154 stl_32 stl_150" style="word-spacing:0.0097em;">find on the internet. It’s probably best to ignore them. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:10.0552em;z-index:643;"><span class="stl_154 stl_32 stl_52" style="word-spacing:0.217em;">We </span><span class="stl_154 stl_32 stl_28">a</span><span class="stl_154 stl_32 stl_39" style="word-spacing:0.0261em;">lso suggest that you avoid the word </span><span class="stl_155 stl_41 stl_352">tuning</span><span class="stl_154 stl_32 stl_43" style="word-spacing:0.0299em;">, which we’ve used liberally in the past &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:11.1052em;z-index:781;"><span class="stl_154 stl_32 stl_77" style="word-spacing:0.0322em;">few paragraphs. </span><span class="stl_154 stl_32 stl_52">W</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0291em;">e </span><span class="stl_154 stl_32 stl_28">f</span><span class="stl_154 stl_32 stl_144" style="word-spacing:0.0411em;">avor </span><span class="stl_216 stl_41 stl_28" style="word-spacing:0.006em;">conﬁgurwtion </span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.029em;">or </span><span class="stl_155 stl_41 stl_49" style="word-spacing:0.0465em;">optimization </span><span class="stl_154 stl_32 stl_71" style="word-spacing:0.0348em;">instead (as long as that</span><span class="stl_154 stl_32 stl_34">’</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0291em;">s </span><span class="stl_154 stl_32 stl_28">w</span><span class="stl_154 stl_32 stl_121">hat &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:12.1552em;"><span class="stl_154 stl_32 stl_222" style="word-spacing:0.0507em;">you’re actually doing). The word </span><span class="stl_155 stl_41 stl_255" style="word-spacing:0.0678em;">tuning </span><span class="stl_154 stl_32 stl_53" style="word-spacing:0.0451em;">conjures up images of an undisciplined nov‐ &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:13.2166em;z-index:898;"><span class="stl_154 stl_32 stl_158" style="word-spacing:0.0668em;">ice who tweaks the server and sees what happens. </span><span class="stl_154 stl_32 stl_52">W</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0663em;">e </span><span class="stl_154 stl_32 stl_28">s</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0663em;">uggested in the previous sec‐ &nbsp;</span></div>
					<div class="stl_01" style="left:5.9996em;top:14.2666em;"><span class="stl_154 stl_32 stl_87" style="word-spacing:0.2488em;">tion that this practice is best left to those who are researching server internals. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:15.3166em;"><span class="stl_154 stl_32 stl_195">“</span><span class="stl_154 stl_32 stl_52">T</span><span class="stl_154 stl_32 stl_28">u</span><span class="stl_154 stl_32 stl_126" style="word-spacing:-0.0006em;">ning” your server can be a stunning waste of time. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:16.8666em;"><span class="stl_154 stl_32 stl_46" style="word-spacing:0.1634em;">On a related topic, searching the internet for configuration advice is not always a &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:17.9166em;z-index:1120;"><span class="stl_154 stl_32 stl_38" style="word-spacing:0.134em;">great idea. </span><span class="stl_154 stl_32 stl_109">Y</span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.1293em;">u can find a lot of bad advice in blogs, forums, and so on. Although &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:18.9666em;"><span class="stl_154 stl_32 stl_97" style="word-spacing:0.1094em;">many experts contribute what they know online, it is not always easy to tell who is &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:20.0166em;z-index:1254;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0553em;">qualified. </span><span class="stl_154 stl_32 stl_52">W</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0553em;">e </span><span class="stl_154 stl_32 stl_28">c</span><span class="stl_154 stl_32 stl_143" style="word-spacing:0.0608em;">an’t give unbiased recommendations about where to find real experts, &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:21.0666em;"><span class="stl_154 stl_32 stl_78" style="word-spacing:0.0637em;">of course. But we can say that the credible, reputable MySQL service providers are a &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:22.1166em;"><span class="stl_154 stl_32 stl_35" style="word-spacing:0.0732em;">safer bet in general than what a simple internet search turns up because people who &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:23.1666em;"><span class="stl_154 stl_32 stl_46" style="word-spacing:0.1023em;">have happy customers are probably doing something right. Even their advice, how‐ &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:24.2166em;"><span class="stl_154 stl_32 stl_33" style="word-spacing:0.0821em;">ever, can be dangerous to apply without testing and understanding because it might &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:25.2666em;"><span class="stl_154 stl_32 stl_20" style="word-spacing:0.3052em;">have been directed at a situation that differed from yours in a way you don’t &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:26.3166em;"><span class="stl_154 stl_32 stl_28">understand. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:27.8666em;"><span class="stl_154 stl_32 stl_71" style="word-spacing:0.1133em;">Finally, don’t believe the popular memory consumption formula—yes, the very one &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:28.9166em;z-index:1776;"><span class="stl_154 stl_32 stl_84" style="word-spacing:0.0596em;">that MySQL itself prints out when it crashes. (</span><span class="stl_154 stl_32 stl_52">W</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0551em;">e </span><span class="stl_154 stl_32 stl_28">w</span><span class="stl_154 stl_32 stl_194" style="word-spacing:0.0684em;">on’t repeat it here.) This formula &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:29.9666em;"><span class="stl_154 stl_32 stl_77" style="word-spacing:0.1425em;">is from an ancient time. It is not a reliable or even useful way to understand how &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:31.0166em;z-index:1910;"><span class="stl_154 stl_32 stl_74" style="word-spacing:0.0803em;">much memory MySQL can use in the worst case. </span><span class="stl_154 stl_32 stl_109">Y</span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_54" style="word-spacing:0.0826em;">u might see some variations on &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:32.0666em;"><span class="stl_154 stl_32 stl_97" style="word-spacing:0.037em;">this formula on the internet, too. These are similarly flawed, even though they add in &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:33.1166em;"><span class="stl_154 stl_32 stl_25" style="word-spacing:0.0473em;">more factors that the original formula doesn’t have. The truth is that you can’t put an &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:34.1666em;z-index:2098;"><span class="stl_154 stl_32 stl_114" style="word-spacing:0.0304em;">upper bound on MySQ</span><span class="stl_154 stl_32 stl_94">L</span><span class="stl_154 stl_32 stl_34" style="word-spacing:0.2155em;">’s </span><span class="stl_154 stl_32 stl_28">m</span><span class="stl_154 stl_32 stl_33" style="word-spacing:0.0298em;">emory consumption. It is not a tightly regulated database &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:35.2166em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:-0.0001em;">server that controls memory allocation. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:37.1131em;"><span class="stl_159 stl_27 stl_28" style="word-spacing:0em;">Creating a MySQL </span><span class="stl_160 stl_27 stl_28" style="word-spacing:-0.092em;">Conﬁguration </span><span class="stl_159 stl_27 stl_28">File &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:39.3833em;"><span class="stl_154 stl_32 stl_107" style="word-spacing:0.1421em;">As we mentioned at the beginning of this chapter, we don’t have a one-size-fits-all &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:40.4333em;"><span class="stl_154 stl_32 stl_124" style="word-spacing:0.0622em;">“best configuration file” for, say, a 4 CPU server with 16 GB of memory and 12 hard &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:41.4833em;z-index:2359;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0898em;">drives. </span><span class="stl_154 stl_32 stl_109">Y</span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_74" style="word-spacing:0.0915em;">u really do need to develop your own configurations because even a good &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:42.5333em;z-index:2480;"><span class="stl_154 stl_32 stl_33" style="word-spacing:0.0041em;">starting point will vary widely depending on how you’re using the server. &nbsp;</span></div>
					<div class="stl_01" style="left:6.095em;top:45.7703em;"><span class="stl_167 stl_32 stl_28">2</span></div>
					<div class="stl_01" style="left:6.6667em;top:45.6792em;"><span class="stl_168 stl_32 stl_162" style="word-spacing:0.0081em;">If you are not convinced that “tuning by ratio” is bad, please read </span><a href="https://oreil.ly/DWM2I" target="_blank"><span class="stl_238 stl_41 stl_116" style="word-spacing:0.0123em;">Optimizing Oracle Performance </span></a><span class="stl_168 stl_32 stl_353" style="word-spacing:-0.0145em;">by Cary &nbsp;</span></div>
					<div class="stl_01" style="left:6.6667em;top:46.5212em;"><span class="stl_168 stl_32 stl_36" style="word-spacing:0.0038em;">Millsap and Jeff Holt (O’Reilly). They even devote an appendix to the topic, with a tool that can artificially &nbsp;</span></div>
					<div class="stl_01" style="left:6.6667em;top:47.3545em;z-index:267;"><span class="stl_168 stl_32 stl_77" style="word-spacing:0.0033em;">generate any cache hit ratio you wish, no matter how badly your system is performing! Of course, it</span><span class="stl_168 stl_32 stl_34">’</span><span class="stl_168 stl_32 stl_28" style="word-spacing:0em;">s </span><span class="stl_168 stl_32 stl_28">a</span><span class="stl_168 stl_32 stl_28" style="word-spacing:0em;">ll for &nbsp;</span></div>
					<div class="stl_01" style="left:6.6667em;top:48.1878em;"><span class="stl_168 stl_32 stl_57" style="word-spacing:0.0021em;">the purpose of illustrating how useless the ratio is. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">106 &nbsp;</span></div>
					<div class="stl_01" style="left:7.6683em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">|</span></div>
					<div class="stl_01" style="left:8.5758em;top:50.8098em;"><span class="stl_80 stl_27 stl_28" style="word-spacing:0em;">Chapter 5: Optimizing Server Settings &nbsp;</span></div>
					<a name="128_0" style="position:absolute;left:0em;top:37.4647em;">&nbsp;</a>
					<a name="128_1" style="position:absolute;left:0em;top:45.7792em;">&nbsp;</a>
					<a name="128_2" style="position:absolute;left:0em;top:28.0958em;">&nbsp;</a>
					<a name="128_3" style="position:absolute;left:0em;top:39.6125em;">&nbsp;</a>
					<a name="128_4" style="position:absolute;left:0em;top:4.5458em;">&nbsp;</a>
					<a name="128_5" style="position:absolute;left:0em;top:10.2958em;">&nbsp;</a>
				</div>
			</div>
		</div>
	</body>
</html>