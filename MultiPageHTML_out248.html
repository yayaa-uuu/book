<!DOCTYPE html><!--[if IE]>  <html class="stl_ie"> <![endif]-->
<html>
	<head>
		<meta charset="utf-8" />
		<title>
		</title>
		<link rel="stylesheet" type="text/css" href="MultiPageHTML_out_files/style.css" />
	</head>
	<body>
		<div class="stl_ stl_02">
			<div class="stl_03">
				<object data="MultiPageHTML_out_files/img_264.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:42em; height:55.0833em;">
					<embed src="MultiPageHTML_out_files/img_264.svg" type="image/svg+xml" />
				</object>
			</div>
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="left:6em;top:4.3166em;z-index:20;"><span class="stl_154 stl_32 stl_162" style="word-spacing:0.1258em;">you might be used to. </span><span class="stl_154 stl_32 stl_109">Y</span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_123" style="word-spacing:0.1229em;">u might have to help the optimizer by manually “pushing &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:5.416em;z-index:71;"><span class="stl_154 stl_32 stl_466" style="word-spacing:0.0514em;">down” </span><span class="stl_170 stl_171 stl_28">WHERE</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0114em;">, </span><span class="stl_170 stl_171 stl_28">LIMIT</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0105em;">, </span><span class="stl_170 stl_171 stl_247" style="word-spacing:-0.0035em;">ORDER BY</span><span class="stl_154 stl_32 stl_88" style="word-spacing:0.0116em;">, and other conditions (i.e., copying them, as appropri‐ &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:6.5155em;"><span class="stl_154 stl_32 stl_140" style="word-spacing:0.0008em;">ate, from the outer query into each </span><span class="stl_170 stl_171 stl_28">SELEC</span><span class="stl_170 stl_171 stl_186">T</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0em;">in the </span><span class="stl_170 stl_171 stl_28">UNION</span><span class="stl_154 stl_32 stl_28">). &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:8.1149em;"><span class="stl_154 stl_32 stl_09" style="word-spacing:0.045em;">It’s important to always use </span><span class="stl_170 stl_171 stl_361" style="word-spacing:-0.0063em;">UNION ALL</span><span class="stl_154 stl_32 stl_126" style="word-spacing:0.0216em;">, unless you need the server to eliminate dupli‐ &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:9.2143em;"><span class="stl_154 stl_32 stl_46" style="word-spacing:0.0596em;">cate rows. If you omit the </span><span class="stl_170 stl_171 stl_28">AL</span><span class="stl_170 stl_171 stl_467">L</span><span class="stl_154 stl_32 stl_95" style="word-spacing:0.059em;">keyword, MySQL adds the distinct option to the tem‐ &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:10.2643em;"><span class="stl_154 stl_32 stl_102" style="word-spacing:0.3545em;">porary table, which uses the full row to determine uniqueness. This is quite &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:11.3638em;"><span class="stl_154 stl_32 stl_95" style="word-spacing:0.2172em;">expensive. Be aware that the </span><span class="stl_170 stl_171 stl_28" style="word-spacing:-0.0343em;">ALL </span><span class="stl_154 stl_32 stl_43" style="word-spacing:0.2226em;">keyword doesn’t eliminate the temporary table, &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:12.4138em;"><span class="stl_154 stl_32 stl_57" style="word-spacing:0.0313em;">though. MySQL always places results into a temporary table and then reads them out &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:13.4638em;z-index:543;"><span class="stl_154 stl_32 stl_33" style="word-spacing:0.1656em;">again, even when it</span><span class="stl_154 stl_32 stl_34">’</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.1614em;">s </span><span class="stl_154 stl_32 stl_28">n</span><span class="stl_154 stl_32 stl_126" style="word-spacing:0.1609em;">ot really necessary (for example, when the results could be &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:14.5138em;"><span class="stl_154 stl_32 stl_74" style="word-spacing:0.0016em;">returned directly to the client). &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:16.4103em;"><span class="stl_159 stl_27 stl_28">Summary &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:18.6805em;"><span class="stl_154 stl_32 stl_87" style="word-spacing:0.0239em;">Query optimization is the final piece in the interlocking puzzle of schema, index, and &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:19.7305em;"><span class="stl_154 stl_32 stl_78" style="word-spacing:0.1824em;">query design to create high-performance applications. </span><span class="stl_154 stl_32 stl_105">T</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.1811em;">o </span><span class="stl_154 stl_32 stl_28">w</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.1811em;">rite good queries, you &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:20.7805em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0em;">need to understand schemas and indexing, and vice versa. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:22.3305em;"><span class="stl_154 stl_32 stl_77" style="word-spacing:0.0838em;">Ultimately, it is still about response time and understanding how queries execute so &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:23.3805em;"><span class="stl_154 stl_32 stl_83" style="word-spacing:0.1076em;">that you can reason about where the time is consumed. With the addition of a few &nbsp;</span></div>
					<div class="stl_01" style="left:5.9996em;top:24.4305em;"><span class="stl_154 stl_32 stl_140" style="word-spacing:0.2007em;">things such as the parsing and optimization process, this is just the next step in &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:25.4805em;"><span class="stl_154 stl_32 stl_53" style="word-spacing:0.1257em;">understanding how MySQL accesses tables and indexes, which we discussed in the &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:26.5305em;"><span class="stl_154 stl_32 stl_48" style="word-spacing:0.2052em;">previous chapter. The extra dimension that emerges when you start studying the &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:27.5805em;"><span class="stl_154 stl_32 stl_46" style="word-spacing:0.1722em;">interplay between queries and indexes is how MySQL accesses one table or index &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:28.6305em;"><span class="stl_154 stl_32 stl_35" style="word-spacing:0.0027em;">based on the data that it finds in another one. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:30.1805em;"><span class="stl_154 stl_32 stl_95" style="word-spacing:0.0674em;">Optimization always requires a three-pronged approach: stop doing things, do them &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:31.2305em;z-index:1367;"><span class="stl_154 stl_32 stl_71" style="word-spacing:0.0058em;">fewer times, and do them more quickly. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">226 &nbsp;</span></div>
					<div class="stl_01" style="left:7.6678em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">|</span></div>
					<div class="stl_01" style="left:8.5753em;top:50.8098em;"><span class="stl_80 stl_27 stl_28" style="word-spacing:0em;">Chapter 8: Query Performance Optimization &nbsp;</span></div>
					<a name="248_0" style="position:absolute;left:0em;top:16.7619em;">&nbsp;</a>
					<a name="248_1" style="position:absolute;left:0em;top:30.4097em;">&nbsp;</a>
					<a name="248_2" style="position:absolute;left:0em;top:14.743em;">&nbsp;</a>
				</div>
			</div>
		</div>
	</body>
</html>