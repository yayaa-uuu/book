<!DOCTYPE html><!--[if IE]>  <html class="stl_ie"> <![endif]-->
<html>
	<head>
		<meta charset="utf-8" />
		<title>
		</title>
		<link rel="stylesheet" type="text/css" href="MultiPageHTML_out_files/style.css" />
	</head>
	<body>
		<div class="stl_ stl_02">
			<div class="stl_03">
				<object data="MultiPageHTML_out_files/img_108.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:42em; height:55.0833em;">
					<embed src="MultiPageHTML_out_files/img_108.svg" type="image/svg+xml" />
				</object>
			</div>
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="left:7.4998em;top:4.3052em;"><span class="stl_154 stl_32 stl_39" style="word-spacing:0.0873em;">Again, note that </span><span class="stl_155 stl_41 stl_96" style="word-spacing:0.0971em;">RAID 0 does not provide any redundancy</span><span class="stl_154 stl_32 stl_72" style="word-spacing:0.0883em;">, even though “redun‐ &nbsp;</span></div>
					<div class="stl_01" style="left:7.5001em;top:5.3666em;"><span class="stl_154 stl_32 stl_36" style="word-spacing:0.1023em;">dant” is the R in the RAID acronym. In fact, the probability of a RAID 0 array &nbsp;</span></div>
					<div class="stl_01" style="left:7.4996em;top:6.4052em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0em;">failing is actually </span><span class="stl_155 stl_41 stl_214" style="word-spacing:0.0116em;">higher </span><span class="stl_154 stl_32 stl_53" style="word-spacing:0.0011em;">than the probability of any single disk failing, not lower! &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:8.0385em;"><span class="stl_155 stl_41 stl_254" style="word-spacing:-0.0107em;">RAID 1 &nbsp;</span></div>
					<div class="stl_01" style="left:7.4996em;top:9.0999em;"><span class="stl_154 stl_32 stl_74" style="word-spacing:0.0366em;">RAID 1 offers good read performance for many scenarios, and it duplicates your &nbsp;</span></div>
					<div class="stl_01" style="left:7.5em;top:10.1499em;z-index:296;"><span class="stl_154 stl_32 stl_148" style="word-spacing:0.1343em;">data across disks, so there</span><span class="stl_154 stl_32 stl_34">’</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.1262em;">s </span><span class="stl_154 stl_32 stl_28">g</span><span class="stl_154 stl_32 stl_38" style="word-spacing:0.131em;">ood redundancy. RAID 1 is a little bit faster than &nbsp;</span></div>
					<div class="stl_01" style="left:7.5004em;top:11.1999em;"><span class="stl_154 stl_32 stl_143" style="word-spacing:0.0365em;">RAID 0 for reads. It’s good for servers that handle logging and similar workloads &nbsp;</span></div>
					<div class="stl_01" style="left:7.4999em;top:12.2499em;"><span class="stl_154 stl_32 stl_57" style="word-spacing:0.0655em;">because sequential writes rarely need many underlying disks to perform well (as &nbsp;</span></div>
					<div class="stl_01" style="left:7.5003em;top:13.2999em;"><span class="stl_154 stl_32 stl_57" style="word-spacing:0.1388em;">opposed to random writes, which can benefit from parallelization). It is also a &nbsp;</span></div>
					<div class="stl_01" style="left:7.4998em;top:14.3499em;"><span class="stl_154 stl_32 stl_87" style="word-spacing:0.0569em;">typical choice for low-end servers that need redundancy but have only two hard &nbsp;</span></div>
					<div class="stl_01" style="left:7.5001em;top:15.3999em;"><span class="stl_154 stl_32 stl_28">drives. &nbsp;</span></div>
					<div class="stl_01" style="left:7.5001em;top:16.9499em;"><span class="stl_154 stl_32 stl_53" style="word-spacing:0.0463em;">RAID 0 and RAID 1 are very simple, and they can often be implemented well in &nbsp;</span></div>
					<div class="stl_01" style="left:7.4996em;top:17.9999em;"><span class="stl_154 stl_32 stl_83" style="word-spacing:0.0056em;">software. Most operating systems will let you create software RAID 0 and RAID 1 &nbsp;</span></div>
					<div class="stl_01" style="left:7.5em;top:19.0499em;z-index:755;"><span class="stl_154 stl_32 stl_111" style="word-spacing:0.0122em;">volumes easily. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:20.6719em;"><span class="stl_155 stl_41 stl_254" style="word-spacing:-0.0107em;">RAID 5 &nbsp;</span></div>
					<div class="stl_01" style="left:7.5em;top:21.7333em;"><span class="stl_154 stl_32 stl_37" style="word-spacing:0.126em;">RAID 5 used to be quite scary for database systems, largely due to the perfor‐ &nbsp;</span></div>
					<div class="stl_01" style="left:7.5004em;top:22.7833em;z-index:874;"><span class="stl_154 stl_32 stl_47" style="word-spacing:0.0101em;">mance implications. With SSDs becoming commonplace, it</span><span class="stl_154 stl_32 stl_34">’</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0041em;">s </span><span class="stl_154 stl_32 stl_28">n</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0041em;">ow a viable option. &nbsp;</span></div>
					<div class="stl_01" style="left:7.4999em;top:23.8333em;"><span class="stl_154 stl_32 stl_84" style="word-spacing:0.0417em;">It spreads the data across many disks with distributed parity blocks so that if any &nbsp;</span></div>
					<div class="stl_01" style="left:7.5003em;top:24.8833em;"><span class="stl_154 stl_32 stl_140" style="word-spacing:0.0424em;">one disk fails, the data can be rebuilt from the parity blocks. If two disks fail, the &nbsp;</span></div>
					<div class="stl_01" style="left:7.4998em;top:25.9333em;z-index:1098;"><span class="stl_154 stl_32 stl_72" style="word-spacing:0.0541em;">entire volume will fail unrecoverably. In terms of cost per unit of storage, it</span><span class="stl_154 stl_32 stl_34">’</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0496em;">s </span><span class="stl_154 stl_32 stl_28">t</span><span class="stl_154 stl_32 stl_28">he &nbsp;</span></div>
					<div class="stl_01" style="left:7.5001em;top:26.9833em;z-index:1164;"><span class="stl_154 stl_32 stl_36" style="word-spacing:0.0132em;">most economical redundant configuration because you lose only one disk</span><span class="stl_154 stl_32 stl_34">’</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0094em;">s </span><span class="stl_154 stl_32 stl_28">w</span><span class="stl_154 stl_32 stl_28">orth &nbsp;</span></div>
					<div class="stl_01" style="left:7.4996em;top:28.0333em;z-index:1204;"><span class="stl_154 stl_32 stl_51" style="word-spacing:0.0079em;">of storage space across the entire array. &nbsp;</span></div>
					<div class="stl_01" style="left:7.4996em;top:29.5833em;"><span class="stl_154 stl_32 stl_124" style="word-spacing:0.0238em;">The biggest “gotcha” with RAID 5 is how the array performs if a disk fails. This is &nbsp;</span></div>
					<div class="stl_01" style="left:7.5em;top:30.6333em;"><span class="stl_154 stl_32 stl_78" style="word-spacing:0.0069em;">because the data has to be reconstructed by reading all the other disks. This affec‐ &nbsp;</span></div>
					<div class="stl_01" style="left:7.5004em;top:31.6833em;"><span class="stl_154 stl_32 stl_36" style="word-spacing:0.0571em;">ted performance severely on HDD, which is why it was generally discouraged. It &nbsp;</span></div>
					<div class="stl_01" style="left:7.4999em;top:32.7333em;"><span class="stl_154 stl_32 stl_141" style="word-spacing:0.0509em;">was even worse if you had lots of disks. If you try to keep the server online dur‐ &nbsp;</span></div>
					<div class="stl_01" style="left:7.5003em;top:33.7833em;z-index:1525;"><span class="stl_154 stl_32 stl_132" style="word-spacing:0.1077em;">ing the rebuild, don’t expect either the rebuild or the array</span><span class="stl_154 stl_32 stl_34">’</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.1012em;">s </span><span class="stl_154 stl_32 stl_28">p</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.1012em;">erformance to be &nbsp;</span></div>
					<div class="stl_01" style="left:7.4998em;top:34.8333em;"><span class="stl_154 stl_32 stl_158" style="word-spacing:0.0674em;">good. Other performance costs included limited scalability because of the parity &nbsp;</span></div>
					<div class="stl_01" style="left:7.5002em;top:35.8833em;"><span class="stl_154 stl_32 stl_72" style="word-spacing:0.0424em;">blocks—RAID 5 doesn’t scale well past 10 disks or so—and caching issues. Good &nbsp;</span></div>
					<div class="stl_01" style="left:7.4997em;top:36.9333em;z-index:1726;"><span class="stl_154 stl_32 stl_95" style="word-spacing:0.0392em;">RAID 5 performance depends heavily on the RAID controller</span><span class="stl_154 stl_32 stl_34">’</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0374em;">s </span><span class="stl_154 stl_32 stl_28">c</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0374em;">ache, which can &nbsp;</span></div>
					<div class="stl_01" style="left:7.5em;top:37.9833em;z-index:1771;"><span class="stl_154 stl_32 stl_125" style="word-spacing:0.1727em;">conflict with the database server</span><span class="stl_154 stl_32 stl_34">’</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.1735em;">s </span><span class="stl_154 stl_32 stl_28">n</span><span class="stl_154 stl_32 stl_71" style="word-spacing:0.1794em;">eeds. As we mentioned earlier, SSDs offer &nbsp;</span></div>
					<div class="stl_01" style="left:7.5004em;top:39.0333em;"><span class="stl_154 stl_32 stl_57" style="word-spacing:0.1115em;">substantially improved performance in terms of IOPS and throughput, and the &nbsp;</span></div>
					<div class="stl_01" style="left:7.4999em;top:40.0833em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0em;">issues of poorly performing random read/write performance are also gone. &nbsp;</span></div>
					<div class="stl_01" style="left:7.4999em;top:41.6333em;z-index:1978;"><span class="stl_154 stl_32 stl_33" style="word-spacing:0.0329em;">One of the mitigating factors for RAID 5 is that it</span><span class="stl_154 stl_32 stl_34">’</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0287em;">s </span><span class="stl_154 stl_32 stl_28">s</span><span class="stl_154 stl_32 stl_138" style="word-spacing:0.0361em;">o popular. As a result, RAID &nbsp;</span></div>
					<div class="stl_01" style="left:7.5003em;top:42.6833em;"><span class="stl_154 stl_32 stl_158" style="word-spacing:0.1558em;">controllers are often highly optimized for RAID 5, and despite the theoretical &nbsp;</span></div>
					<div class="stl_01" style="left:7.4998em;top:43.7333em;"><span class="stl_154 stl_32 stl_78" style="word-spacing:0.1382em;">limits, smart controllers that use caches well can sometimes perform nearly as &nbsp;</span></div>
					<div class="stl_01" style="left:7.5002em;top:44.7833em;"><span class="stl_154 stl_32 stl_73" style="word-spacing:0.0647em;">well as RAID 10 controllers for some workloads. This might actually reflect that &nbsp;</span></div>
					<div class="stl_01" style="left:7.4997em;top:45.8333em;"><span class="stl_154 stl_32 stl_158" style="word-spacing:0.0962em;">the RAID 10 controllers are less highly optimized, but regardless of the reason, &nbsp;</span></div>
					<div class="stl_01" style="left:7.5em;top:46.8833em;"><span class="stl_154 stl_32 stl_164" style="word-spacing:0.0145em;">this is what we’ve seen. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">80 &nbsp;</span></div>
					<div class="stl_01" style="left:7.3621em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">|</span></div>
					<div class="stl_01" style="left:8.2696em;top:50.8098em;"><span class="stl_80 stl_27 stl_28" style="word-spacing:0em;">Chapter 4: Operating System and Hardware Optimization &nbsp;</span></div>
					<a name="102_0" style="position:absolute;left:0em;top:31.9125em;">&nbsp;</a>
					<a name="102_1" style="position:absolute;left:0em;top:39.2625em;">&nbsp;</a>
					<a name="102_2" style="position:absolute;left:0em;top:38.2125em;">&nbsp;</a>
				</div>
			</div>
		</div>
	</body>
</html>