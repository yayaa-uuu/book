<!DOCTYPE html><!--[if IE]>  <html class="stl_ie"> <![endif]-->
<html>
	<head>
		<meta charset="utf-8" />
		<title>
		</title>
		<link rel="stylesheet" type="text/css" href="MultiPageHTML_out_files/style.css" />
	</head>
	<body>
		<div class="stl_ stl_02">
			<div class="stl_03">
				<object data="MultiPageHTML_out_files/img_94.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:42em; height:55.0833em;">
					<embed src="MultiPageHTML_out_files/img_94.svg" type="image/svg+xml" />
				</object>
			</div>
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="left:8.8333em;top:4.5285em;"><span class="stl_200 stl_171 stl_28">-&gt; </span><span class="stl_265 stl_173 stl_28">ORDER BY CURRENT_NUMBER_OF_BYTES_USED DESC LIMIT 10; &nbsp;</span></div>
					<div class="stl_01" style="left:7.4167em;top:5.3792em;"><span class="stl_200 stl_171 stl_28">+----------------------------+--------------+--------------+ &nbsp;</span></div>
					<div class="stl_01" style="left:7.4167em;top:6.2292em;"><span class="stl_200 stl_171 stl_28">| EVENT_NAME &nbsp;</span></div>
					<div class="stl_01" style="left:17.6875em;top:6.2292em;"><span class="stl_200 stl_171 stl_28">| CURRENT_MB &nbsp;</span></div>
					<div class="stl_01" style="left:23em;top:6.2292em;"><span class="stl_200 stl_171 stl_28">| HIGH_MB &nbsp;</span></div>
					<div class="stl_01" style="left:28.3125em;top:6.2292em;"><span class="stl_200 stl_171 stl_28">|</span></div>
					<div class="stl_01" style="left:7.4167em;top:7.0792em;"><span class="stl_200 stl_171 stl_28">+----------------------------+--------------+--------------+ &nbsp;</span></div>
					<div class="stl_01" style="left:7.4167em;top:7.9292em;"><span class="stl_200 stl_171 stl_28">| memory/innodb/buf_buf_pool | 130.68750000 | 130.68750000 | &nbsp;</span></div>
					<div class="stl_01" style="left:7.4167em;top:8.7792em;"><span class="stl_200 stl_171 stl_28">| memory/innodb/ut0link_buf &nbsp;</span></div>
					<div class="stl_01" style="left:7.4167em;top:9.6292em;"><span class="stl_200 stl_171 stl_28">| memory/innodb/buf0dblwr &nbsp;</span></div>
					<div class="stl_01" style="left:7.4167em;top:10.4792em;"><span class="stl_200 stl_171 stl_28">| memory/innodb/ut0new &nbsp;</span></div>
					<div class="stl_01" style="left:7.4167em;top:11.3292em;"><span class="stl_200 stl_171 stl_28">| memory/innodb/sync0arr &nbsp;</span></div>
					<div class="stl_01" style="left:7.4167em;top:12.1792em;"><span class="stl_200 stl_171 stl_28">| memory/innodb/lock0lock &nbsp;</span></div>
					<div class="stl_01" style="left:7.4167em;top:13.0292em;"><span class="stl_200 stl_171 stl_28">| memory/innodb/ut0pool &nbsp;</span></div>
					<div class="stl_01" style="left:7.4167em;top:13.8792em;"><span class="stl_200 stl_171 stl_28">| memory/innodb/hash0hash &nbsp;</span></div>
					<div class="stl_01" style="left:7.4167em;top:14.7292em;"><span class="stl_200 stl_171 stl_28">| memory/innodb/os0file &nbsp;</span></div>
					<div class="stl_01" style="left:7.4167em;top:15.5792em;"><span class="stl_200 stl_171 stl_28">| memory/innodb/memory &nbsp;</span></div>
					<div class="stl_01" style="left:17.6875em;top:8.7792em;"><span class="stl_200 stl_171 stl_28">|</span></div>
					<div class="stl_01" style="left:17.6875em;top:9.6292em;"><span class="stl_200 stl_171 stl_28">|</span></div>
					<div class="stl_01" style="left:17.6875em;top:10.4792em;"><span class="stl_200 stl_171 stl_28">|</span></div>
					<div class="stl_01" style="left:17.6875em;top:11.3292em;"><span class="stl_200 stl_171 stl_28">|</span></div>
					<div class="stl_01" style="left:17.6875em;top:12.1792em;"><span class="stl_200 stl_171 stl_28">|</span></div>
					<div class="stl_01" style="left:17.6875em;top:13.0292em;"><span class="stl_200 stl_171 stl_28">|</span></div>
					<div class="stl_01" style="left:17.6875em;top:13.8792em;"><span class="stl_200 stl_171 stl_28">|</span></div>
					<div class="stl_01" style="left:17.6875em;top:14.7292em;"><span class="stl_200 stl_171 stl_28">|</span></div>
					<div class="stl_01" style="left:17.6875em;top:15.5792em;"><span class="stl_200 stl_171 stl_28">|</span></div>
					<div class="stl_01" style="left:18.75em;top:8.7792em;"><span class="stl_200 stl_171 stl_28">24.00006104 |</span><span class="stl_200 stl_171 stl_28" style="word-spacing:0.5em;">&nbsp;</span><span class="stl_200 stl_171 stl_28">24.00006104 | &nbsp;</span></div>
					<div class="stl_01" style="left:18.75em;top:9.6292em;"><span class="stl_200 stl_171 stl_28">17.07897949 |</span><span class="stl_200 stl_171 stl_28" style="word-spacing:0.5em;">&nbsp;</span><span class="stl_200 stl_171 stl_28">24.96951294 | &nbsp;</span></div>
					<div class="stl_01" style="left:18.75em;top:10.4792em;"><span class="stl_200 stl_171 stl_28">16.07891273 |</span><span class="stl_200 stl_171 stl_28" style="word-spacing:0.5em;">&nbsp;</span><span class="stl_200 stl_171 stl_28">16.07891273 | &nbsp;</span></div>
					<div class="stl_01" style="left:19.1042em;top:11.3292em;"><span class="stl_200 stl_171 stl_28">6.25006866 | &nbsp;</span></div>
					<div class="stl_01" style="left:19.1042em;top:12.1792em;"><span class="stl_200 stl_171 stl_28">4.85086060 | &nbsp;</span></div>
					<div class="stl_01" style="left:19.1042em;top:13.0292em;"><span class="stl_200 stl_171 stl_28">4.00003052 | &nbsp;</span></div>
					<div class="stl_01" style="left:19.1042em;top:13.8792em;"><span class="stl_200 stl_171 stl_28">3.69776917 | &nbsp;</span></div>
					<div class="stl_01" style="left:19.1042em;top:14.7292em;"><span class="stl_200 stl_171 stl_28">2.60422516 | &nbsp;</span></div>
					<div class="stl_01" style="left:19.1042em;top:15.5792em;"><span class="stl_200 stl_171 stl_28">1.23812866 | &nbsp;</span></div>
					<div class="stl_01" style="left:24.4167em;top:11.3292em;"><span class="stl_200 stl_171 stl_28">6.25006866 | &nbsp;</span></div>
					<div class="stl_01" style="left:24.4167em;top:12.1792em;"><span class="stl_200 stl_171 stl_28">4.85086060 | &nbsp;</span></div>
					<div class="stl_01" style="left:24.4167em;top:13.0292em;"><span class="stl_200 stl_171 stl_28">4.00003052 | &nbsp;</span></div>
					<div class="stl_01" style="left:24.4167em;top:13.8792em;"><span class="stl_200 stl_171 stl_28">3.69776917 | &nbsp;</span></div>
					<div class="stl_01" style="left:24.4167em;top:14.7292em;"><span class="stl_200 stl_171 stl_28">3.61988068 | &nbsp;</span></div>
					<div class="stl_01" style="left:24.4167em;top:15.5792em;"><span class="stl_200 stl_171 stl_28">1.42373657 | &nbsp;</span></div>
					<div class="stl_01" style="left:7.4167em;top:16.4292em;"><span class="stl_200 stl_171 stl_28">+----------------------------+--------------+--------------+ &nbsp;</span></div>
					<div class="stl_01" style="left:7.4167em;top:17.2792em;"><span class="stl_200 stl_171 stl_28">10 rows in set (0,00 sec) &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:18.9235em;"><span class="stl_193 stl_27 stl_28" style="word-spacing:0em;">Using sys schema &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:20.4404em;z-index:835;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.1312em;">The </span><span class="stl_170 stl_171 stl_28" style="word-spacing:-0.123em;">sys </span><span class="stl_154 stl_32 stl_72" style="word-spacing:0.1355em;">schema has views that allow you to get memory statistics in a better way. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:21.5398em;"><span class="stl_154 stl_32 stl_74" style="word-spacing:0.236em;">They also support aggregation by </span><span class="stl_170 stl_171 stl_28">host</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.2343em;">, </span><span class="stl_170 stl_171 stl_28">user</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.2343em;">, </span><span class="stl_170 stl_171 stl_28">thread</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.2343em;">, or </span><span class="stl_170 stl_171 stl_28">global</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.2343em;">. The view </span><span class="stl_170 stl_171 stl_28">mem &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:22.6392em;"><span class="stl_170 stl_171 stl_28">ory_global_tota</span><span class="stl_170 stl_171 stl_311">l</span><span class="stl_154 stl_32 stl_83" style="word-spacing:0.0542em;">contains a single value, displaying the total amount of the instru‐ &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:23.6892em;"><span class="stl_154 stl_32 stl_312" style="word-spacing:-0.0075em;">mented memory: &nbsp;</span></div>
					<div class="stl_01" style="left:7.4163em;top:25.4511em;"><span class="stl_200 stl_171 stl_28">mysql&gt; </span><span class="stl_265 stl_173 stl_28">SELECT * FROM sys.memory_global_total; &nbsp;</span></div>
					<div class="stl_01" style="left:7.4163em;top:26.3018em;"><span class="stl_200 stl_171 stl_28">+-----------------+ &nbsp;</span></div>
					<div class="stl_01" style="left:7.4163em;top:27.1518em;"><span class="stl_200 stl_171 stl_28">| total_allocated | &nbsp;</span></div>
					<div class="stl_01" style="left:7.4163em;top:28.0018em;"><span class="stl_200 stl_171 stl_28">+-----------------+ &nbsp;</span></div>
					<div class="stl_01" style="left:7.4163em;top:28.8518em;"><span class="stl_200 stl_171 stl_28">| 441.84 MiB &nbsp;</span></div>
					<div class="stl_01" style="left:7.4163em;top:29.7018em;"><span class="stl_200 stl_171 stl_28">+-----------------+ &nbsp;</span></div>
					<div class="stl_01" style="left:13.7913em;top:28.8518em;"><span class="stl_200 stl_171 stl_28">|</span></div>
					<div class="stl_01" style="left:7.4163em;top:30.5518em;"><span class="stl_200 stl_171 stl_28">1 row in set (0,09 sec) &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:31.6892em;"><span class="stl_154 stl_32 stl_73" style="word-spacing:0.0795em;">Aggregation views convert bytes into kilobytes, megabytes, and gigabytes as needed. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:32.7887em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.1623em;">The view </span><span class="stl_170 stl_171 stl_28" style="word-spacing:-0.0902em;">memory_by_thread_by_current_bytes </span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.1623em;">has a </span><span class="stl_170 stl_171 stl_28" style="word-spacing:-0.0902em;">user </span><span class="stl_154 stl_32 stl_143" style="word-spacing:0.168em;">column that may take &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:33.8387em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0em;">one of the following values: &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:35.6969em;"><span class="stl_170 stl_171 stl_28">NAME@HOST &nbsp;</span></div>
					<div class="stl_01" style="left:7.4999em;top:36.6209em;"><span class="stl_154 stl_32 stl_73" style="word-spacing:0.0019em;">Regular user account, such as </span><span class="stl_170 stl_171 stl_28">sveta@oreilly.com</span><span class="stl_154 stl_32 stl_28">. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:38.2923em;"><span class="stl_155 stl_41 stl_151" style="word-spacing:0.01em;">System users, such as </span><span class="stl_170 stl_171 stl_28">sql/mai</span><span class="stl_170 stl_171 stl_259">n</span><span class="stl_155 stl_41 stl_201" style="word-spacing:0.02em;">or </span><span class="stl_170 stl_171 stl_28">innodb/* &nbsp;</span></div>
					<div class="stl_01" style="left:7.4999em;top:39.4031em;"><span class="stl_154 stl_32 stl_222" style="word-spacing:0.1197em;">Data for such “usernames” is taken from the </span><span class="stl_170 stl_171 stl_28" style="word-spacing:-0.1422em;">threads </span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.1129em;">table and is handy when &nbsp;</span></div>
					<div class="stl_01" style="left:7.5003em;top:40.4531em;"><span class="stl_154 stl_32 stl_88" style="word-spacing:0.0009em;">you need to understand what the particular thread is doing. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:42.0525em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0919em;">Rows in the view </span><span class="stl_170 stl_171 stl_28" style="word-spacing:-0.1644em;">memory_by_thread_by_current_bytes </span><span class="stl_154 stl_32 stl_57" style="word-spacing:0.094em;">are sorted by the currently &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:43.1025em;"><span class="stl_154 stl_32 stl_73" style="word-spacing:0.1768em;">allocated memory in descending order, so you will easily find which thread takes &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:44.1525em;"><span class="stl_154 stl_32 stl_313" style="word-spacing:-0.01em;">most of the memory: &nbsp;</span></div>
					<div class="stl_01" style="left:7.4164em;top:45.9144em;"><span class="stl_200 stl_171 stl_28">mysql&gt; </span><span class="stl_265 stl_173 stl_28">SELECT thread_id tid, user, &nbsp;</span></div>
					<div class="stl_01" style="left:8.8331em;top:46.7644em;"><span class="stl_200 stl_171 stl_28" style="word-spacing:0em;">-&gt; </span><span class="stl_265 stl_173 stl_28">current_allocated ca, total_allocated &nbsp;</span></div>
					<div class="stl_01" style="left:8.8331em;top:47.6144em;"><span class="stl_200 stl_171 stl_28" style="word-spacing:0em;">-&gt; </span><span class="stl_265 stl_173 stl_28">FROM sys.memory_by_thread_by_current_bytes LIMIT 9; &nbsp;</span></div>
					<div class="stl_01" style="left:7.4164em;top:48.4651em;"><span class="stl_200 stl_171 stl_28">+-----+----------------------------+------------+-----------------+ &nbsp;</span></div>
					<div class="stl_01" style="left:27.0041em;top:50.8098em;"><span class="stl_80 stl_27 stl_28" style="word-spacing:0em;">Using Performance Schema &nbsp;</span></div>
					<div class="stl_01" style="left:34.4809em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">|</span></div>
					<div class="stl_01" style="left:35.3884em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">65 &nbsp;</span></div>
					<a name="87_0" style="position:absolute;left:0em;top:20.6696em;">&nbsp;</a>
				</div>
			</div>
		</div>
	</body>
</html>