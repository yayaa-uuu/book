<!DOCTYPE html><!--[if IE]>  <html class="stl_ie"> <![endif]-->
<html>
	<head>
		<meta charset="utf-8" />
		<title>
		</title>
		<link rel="stylesheet" type="text/css" href="MultiPageHTML_out_files/style.css" />
	</head>
	<body>
		<div class="stl_ stl_02">
			<div class="stl_03">
				<object data="MultiPageHTML_out_files/img_190.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:42em; height:55.0833em;">
					<embed src="MultiPageHTML_out_files/img_190.svg" type="image/svg+xml" />
				</object>
			</div>
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="left:6em;top:4.3052em;"><span class="stl_155 stl_41 stl_417" style="word-spacing:0.037em;">Match a </span><span class="stl_216 stl_41 stl_28" style="word-spacing:-0.021em;">lefmost preﬁx &nbsp;</span></div>
					<div class="stl_01" style="left:7.4998em;top:5.3666em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0639em;">This index can help you find all people with the last name Allen. This uses only &nbsp;</span></div>
					<div class="stl_01" style="left:7.5001em;top:6.4166em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0em;">the first column in the index. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:8.0385em;"><span class="stl_155 stl_41 stl_403" style="word-spacing:0.0298em;">Match a column </span><span class="stl_216 stl_41 stl_28">preﬁx &nbsp;</span></div>
					<div class="stl_01" style="left:7.5001em;top:9.0999em;z-index:128;"><span class="stl_154 stl_32 stl_109">Y</span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_17" style="word-spacing:0.041em;">u can match on the first part of a column’s value. This index can help you find &nbsp;</span></div>
					<div class="stl_01" style="left:7.4996em;top:10.1499em;"><span class="stl_154 stl_32 stl_95" style="word-spacing:0.0869em;">all people whose last names begin with J. This uses only the first column in the &nbsp;</span></div>
					<div class="stl_01" style="left:7.5em;top:11.1999em;"><span class="stl_154 stl_32 stl_28">index. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:12.8219em;"><span class="stl_155 stl_41 stl_303" style="word-spacing:0.0247em;">Match a range of values &nbsp;</span></div>
					<div class="stl_01" style="left:7.5em;top:13.8833em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.1484em;">This index can help you find people whose last names are between Allen and &nbsp;</span></div>
					<div class="stl_01" style="left:7.5004em;top:14.9333em;"><span class="stl_154 stl_32 stl_112" style="word-spacing:-0.0018em;">Barrymore. This also uses only the first column. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:16.5552em;"><span class="stl_155 stl_41 stl_230" style="word-spacing:0.017em;">Match one part exactly and match a range on another part &nbsp;</span></div>
					<div class="stl_01" style="left:7.5004em;top:17.6166em;"><span class="stl_154 stl_32 stl_102" style="word-spacing:0.0608em;">This index can help you find everyone whose last name is Allen and whose first &nbsp;</span></div>
					<div class="stl_01" style="left:7.4999em;top:18.6666em;"><span class="stl_154 stl_32 stl_140" style="word-spacing:0.2804em;">name starts with the letter K (Kim, Karl, etc.). This is an exact match on &nbsp;</span></div>
					<div class="stl_01" style="left:7.4996em;top:19.766em;"><span class="stl_170 stl_171 stl_28">last_nam</span><span class="stl_170 stl_171 stl_186">e</span><span class="stl_154 stl_32 stl_300" style="word-spacing:-0.0053em;">and a range query on </span><span class="stl_170 stl_171 stl_28">first_name</span><span class="stl_154 stl_32 stl_28">. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:21.388em;"><span class="stl_155 stl_41 stl_66" style="word-spacing:0.0141em;">Index-only queries &nbsp;</span></div>
					<div class="stl_01" style="left:7.4996em;top:22.4494em;"><span class="stl_154 stl_32 stl_158" style="word-spacing:0.0982em;">B-tree indexes can normally support index-only queries, which are queries that &nbsp;</span></div>
					<div class="stl_01" style="left:7.5em;top:23.4994em;z-index:712;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0316em;">access only the index, not the row storage. </span><span class="stl_154 stl_32 stl_52">W</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0316em;">e </span><span class="stl_154 stl_32 stl_28">d</span><span class="stl_154 stl_32 stl_73" style="word-spacing:0.0335em;">iscuss this optimization in </span><a href="MultiPageHTML_out200.html#200_0"><span class="stl_184 stl_32 stl_190">“Cov‐ &nbsp;</span></a></div>
					<div class="stl_01" style="left:7.5004em;top:24.5494em;"><a href="MultiPageHTML_out200.html#200_0"><span class="stl_184 stl_32 stl_84" style="word-spacing:0.0046em;">ering Indexes” on page 178</span></a><span class="stl_154 stl_32 stl_84" style="word-spacing:0.0046em;">. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:26.0994em;"><span class="stl_154 stl_32 stl_123" style="word-spacing:0.0126em;">Because the tree’s nodes are sorted, they can be used for both lookups (finding values) &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:27.1988em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0257em;">and </span><span class="stl_170 stl_171 stl_28" style="word-spacing:0em;">ORDER B</span><span class="stl_170 stl_171 stl_418">Y</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0259em;">queries (finding values in sorted order). In general, if a B-tree can help &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:28.2488em;"><span class="stl_154 stl_32 stl_36" style="word-spacing:0.0643em;">you find a row in a particular way, it can help you sort rows by the same criteria. So &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:29.3482em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.05em;">our index will be helpful for </span><span class="stl_170 stl_171 stl_28" style="word-spacing:0.05em;">ORDER B</span><span class="stl_170 stl_171 stl_419">Y</span><span class="stl_154 stl_32 stl_54" style="word-spacing:0.0539em;">clauses that match all the types of lookups we &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:30.3982em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0em;">just listed. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:31.9482em;"><span class="stl_154 stl_32 stl_35" style="word-spacing:0.0028em;">Here are some limitations of B-tree indexes: &nbsp;</span></div>
					<div class="stl_01" style="left:6.721em;top:33.8316em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.161em;">• They are not useful if the lookup does not start from the leftmost side of the &nbsp;</span></div>
					<div class="stl_01" style="left:7.5001em;top:34.8816em;"><span class="stl_154 stl_32 stl_47" style="word-spacing:0.082em;">indexed columns. For example, this index won’t help you find all people named &nbsp;</span></div>
					<div class="stl_01" style="left:7.4996em;top:35.9316em;"><span class="stl_154 stl_32 stl_78" style="word-spacing:0.063em;">Bill or all people born on a certain date, because those columns are not leftmost &nbsp;</span></div>
					<div class="stl_01" style="left:7.5em;top:36.9816em;"><span class="stl_154 stl_32 stl_38" style="word-spacing:0.1311em;">in the index. Likewise, you can’t use the index to find people whose last name &nbsp;</span></div>
					<div class="stl_01" style="left:7.5004em;top:38.0202em;z-index:1382;"><span class="stl_155 stl_41 stl_73" style="word-spacing:0em;">ends </span><span class="stl_154 stl_32 stl_124" style="word-spacing:0.007em;">with a particular letter. &nbsp;</span></div>
					<div class="stl_01" style="left:6.721em;top:39.4149em;z-index:1385;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.273em;">• </span><span class="stl_154 stl_32 stl_109">Y</span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_28">u</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0498em;">&nbsp;</span><span class="stl_154 stl_32 stl_100" style="word-spacing:0.0603em;">can’t skip columns in the index—that is, you won’t be able to find all people &nbsp;</span></div>
					<div class="stl_01" style="left:7.5001em;top:40.4649em;"><span class="stl_154 stl_32 stl_71" style="word-spacing:0.104em;">whose last name is Smith and who were born on a particular date. If you don’t &nbsp;</span></div>
					<div class="stl_01" style="left:7.4996em;top:41.5643em;"><span class="stl_154 stl_32 stl_141" style="word-spacing:0.0175em;">specify a value for the </span><span class="stl_170 stl_171 stl_28">first_nam</span><span class="stl_170 stl_171 stl_317">e</span><span class="stl_154 stl_32 stl_57" style="word-spacing:0.0222em;">column, MySQL can use only the first column &nbsp;</span></div>
					<div class="stl_01" style="left:7.5em;top:42.6143em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0em;">of the index. &nbsp;</span></div>
					<div class="stl_01" style="left:6.7215em;top:43.9977em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.2724em;">• The</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.088em;">&nbsp;</span><span class="stl_154 stl_32 stl_99" style="word-spacing:0.0943em;">storage engine can’t optimize accesses with any columns to the right of the &nbsp;</span></div>
					<div class="stl_01" style="left:7.5001em;top:45.0971em;"><span class="stl_154 stl_32 stl_158" style="word-spacing:0.1271em;">first range condition. For example, if your query is </span><span class="stl_170 stl_171 stl_28" style="word-spacing:0.1266em;">WHERE last_name="Smith" &nbsp;</span></div>
					<div class="stl_01" style="left:7.4999em;top:46.1966em;"><span class="stl_170 stl_171 stl_28" style="word-spacing:0.1132em;">AND first_name LIKE 'J%' AND dob='1976-12-23'</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.1132em;">, the index access will use &nbsp;</span></div>
					<div class="stl_01" style="left:7.5003em;top:47.296em;"><span class="stl_154 stl_32 stl_53" style="word-spacing:0.0115em;">only the first two columns in the index because the </span><span class="stl_170 stl_171 stl_28">LIK</span><span class="stl_170 stl_171 stl_420">E</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0103em;">is a range condition (the &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">160 &nbsp;</span></div>
					<div class="stl_01" style="left:7.668em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">|</span></div>
					<div class="stl_01" style="left:8.5755em;top:50.8098em;"><span class="stl_80 stl_27 stl_28" style="word-spacing:0em;">Chapter 7: Indexing for High Performance &nbsp;</span></div>
					<a name="182_0" style="position:absolute;left:0em;top:32.1775em;">&nbsp;</a>
					<a name="182_1" style="position:absolute;left:0em;top:27.4281em;">&nbsp;</a>
				</div>
			</div>
		</div>
	</body>
</html>