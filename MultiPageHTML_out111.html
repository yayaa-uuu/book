<!DOCTYPE html><!--[if IE]>  <html class="stl_ie"> <![endif]-->
<html>
	<head>
		<meta charset="utf-8" />
		<title>
		</title>
		<link rel="stylesheet" type="text/css" href="MultiPageHTML_out_files/style.css" />
	</head>
	<body>
		<div class="stl_ stl_02">
			<div class="stl_03">
				<object data="MultiPageHTML_out_files/img_117.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:42em; height:55.0833em;">
					<embed src="MultiPageHTML_out_files/img_117.svg" type="image/svg+xml" />
				</object>
			</div>
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="left:6em;top:4.3166em;z-index:47;"><a href="MultiPageHTML_out111.html#111_1"><span class="stl_184 stl_32 stl_127">T</span></a><a href="MultiPageHTML_out111.html#111_1"><span class="stl_184 stl_32 stl_28">a</span></a><a href="MultiPageHTML_out111.html#111_1"><span class="stl_184 stl_32 stl_28" style="word-spacing:0em;">ble 4-2 </span></a><span class="stl_154 stl_32 stl_28" style="word-spacing:0em;">summarizes the characteristics of some common filesystems. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:6.4042em;"><span class="stl_40 stl_41 stl_269" style="word-spacing:0.029em;">Table 4-2. Common </span><span class="stl_304 stl_41 stl_28" style="word-spacing:-0.021em;">ﬁlesystem </span><span class="stl_40 stl_41 stl_25">characteristics &nbsp;</span></div>
					<div class="stl_01" style="left:6.3em;top:7.9765em;"><span class="stl_205 stl_27 stl_28">Filesystem &nbsp;</span></div>
					<div class="stl_01" style="left:6.3em;top:9.0529em;"><span class="stl_206 stl_68 stl_28">ext3 &nbsp;</span></div>
					<div class="stl_01" style="left:13.1857em;top:7.9765em;"><span class="stl_205 stl_27 stl_28" style="word-spacing:0.033em;">Operating system &nbsp;</span></div>
					<div class="stl_01" style="left:13.1858em;top:9.0529em;"><span class="stl_206 stl_68 stl_28">GNU/Linux &nbsp;</span></div>
					<div class="stl_01" style="left:20.2655em;top:7.9765em;"><span class="stl_205 stl_27 stl_28" style="word-spacing:0.642em;">Journaling Large</span><span class="stl_205 stl_27 stl_28" style="word-spacing:0.033em;">&nbsp;</span><span class="stl_205 stl_27 stl_28">directories &nbsp;</span></div>
					<div class="stl_01" style="left:20.2655em;top:9.0529em;"><span class="stl_206 stl_68 stl_28">Optional &nbsp;</span></div>
					<div class="stl_01" style="left:20.2655em;top:10.1404em;"><span class="stl_206 stl_68 stl_28">Yes &nbsp;</span></div>
					<div class="stl_01" style="left:23.4883em;top:9.0529em;"><span class="stl_206 stl_68 stl_28">Optional/partial &nbsp;</span></div>
					<div class="stl_01" style="left:6.3em;top:10.1404em;"><span class="stl_206 stl_68 stl_28">ext4 &nbsp;</span></div>
					<div class="stl_01" style="left:13.1858em;top:10.1404em;"><span class="stl_206 stl_68 stl_28">GNU/Linux &nbsp;</span></div>
					<div class="stl_01" style="left:23.4883em;top:10.1404em;"><span class="stl_206 stl_68 stl_28">Yes &nbsp;</span></div>
					<div class="stl_01" style="left:6.3em;top:11.2279em;"><span class="stl_206 stl_68 stl_28" style="word-spacing:0.0333em;">Journaled File System (JFS)</span><span class="stl_206 stl_68 stl_28" style="word-spacing:0.643em;">&nbsp;</span><span class="stl_206 stl_68 stl_28">GNU/Linux &nbsp;</span></div>
					<div class="stl_01" style="left:20.2655em;top:11.2279em;"><span class="stl_206 stl_68 stl_28">Yes &nbsp;</span></div>
					<div class="stl_01" style="left:23.4883em;top:11.2279em;"><span class="stl_206 stl_68 stl_28">No &nbsp;</span></div>
					<div class="stl_01" style="left:6.3em;top:12.3154em;"><span class="stl_206 stl_68 stl_28">NTFS &nbsp;</span></div>
					<div class="stl_01" style="left:13.1858em;top:12.3154em;"><span class="stl_206 stl_68 stl_28">Windows &nbsp;</span></div>
					<div class="stl_01" style="left:13.1858em;top:13.4029em;"><span class="stl_206 stl_68 stl_28">GNU/Linux &nbsp;</span></div>
					<div class="stl_01" style="left:13.1858em;top:14.4904em;"><span class="stl_206 stl_68 stl_28">Solaris &nbsp;</span></div>
					<div class="stl_01" style="left:20.2655em;top:12.3154em;"><span class="stl_206 stl_68 stl_28">Yes &nbsp;</span></div>
					<div class="stl_01" style="left:23.4883em;top:12.3154em;"><span class="stl_206 stl_68 stl_28">Yes &nbsp;</span></div>
					<div class="stl_01" style="left:6.3em;top:13.4029em;"><span class="stl_206 stl_68 stl_28">ReiserFS &nbsp;</span></div>
					<div class="stl_01" style="left:6.3em;top:14.4904em;"><span class="stl_206 stl_68 stl_28" style="word-spacing:0.033em;">UFS (Solaris) &nbsp;</span></div>
					<div class="stl_01" style="left:6.3em;top:15.5779em;"><span class="stl_206 stl_68 stl_28" style="word-spacing:0.033em;">UFS (FreeBSD) &nbsp;</span></div>
					<div class="stl_01" style="left:6.3em;top:16.6654em;"><span class="stl_206 stl_68 stl_28">UFS2 &nbsp;</span></div>
					<div class="stl_01" style="left:20.2655em;top:13.4029em;"><span class="stl_206 stl_68 stl_28">Yes &nbsp;</span></div>
					<div class="stl_01" style="left:23.4883em;top:13.4029em;"><span class="stl_206 stl_68 stl_28">Yes &nbsp;</span></div>
					<div class="stl_01" style="left:20.2655em;top:14.4904em;"><span class="stl_206 stl_68 stl_28">Yes &nbsp;</span></div>
					<div class="stl_01" style="left:23.4883em;top:14.4904em;"><span class="stl_206 stl_68 stl_28">Tunable &nbsp;</span></div>
					<div class="stl_01" style="left:13.1858em;top:15.5779em;"><span class="stl_206 stl_68 stl_28">FreeBSD &nbsp;</span></div>
					<div class="stl_01" style="left:13.1858em;top:16.6654em;"><span class="stl_206 stl_68 stl_28">FreeBSD &nbsp;</span></div>
					<div class="stl_01" style="left:13.1858em;top:17.7529em;"><span class="stl_206 stl_68 stl_28">GNU/Linux &nbsp;</span></div>
					<div class="stl_01" style="left:20.2655em;top:15.5779em;"><span class="stl_206 stl_68 stl_28">No &nbsp;</span></div>
					<div class="stl_01" style="left:23.4883em;top:15.5779em;"><span class="stl_206 stl_68 stl_28">Optional/partial &nbsp;</span></div>
					<div class="stl_01" style="left:23.4883em;top:16.6654em;"><span class="stl_206 stl_68 stl_28">Optional/partial &nbsp;</span></div>
					<div class="stl_01" style="left:23.4883em;top:17.7529em;"><span class="stl_206 stl_68 stl_28">Yes &nbsp;</span></div>
					<div class="stl_01" style="left:20.2655em;top:16.6654em;"><span class="stl_206 stl_68 stl_28">No &nbsp;</span></div>
					<div class="stl_01" style="left:6.3em;top:17.7529em;"><span class="stl_206 stl_68 stl_28">XFS &nbsp;</span></div>
					<div class="stl_01" style="left:20.2655em;top:17.7529em;"><span class="stl_206 stl_68 stl_28">Yes &nbsp;</span></div>
					<div class="stl_01" style="left:6.3em;top:18.8404em;"><span class="stl_206 stl_68 stl_28">ZFS &nbsp;</span></div>
					<div class="stl_01" style="left:13.1858em;top:18.8404em;"><span class="stl_206 stl_68 stl_28" style="word-spacing:0.0335em;">GNU/Linux, Solaris, FreeBSD</span><span class="stl_206 stl_68 stl_28" style="word-spacing:0.6427em;">&nbsp;</span><span class="stl_206 stl_68 stl_28">Yes &nbsp;</span></div>
					<div class="stl_01" style="left:23.4883em;top:18.8404em;"><span class="stl_206 stl_68 stl_28">Yes &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:20.8083em;z-index:478;"><span class="stl_154 stl_32 stl_52" style="word-spacing:0.3509em;">We </span><span class="stl_154 stl_32 stl_28">u</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.1569em;">sually recommend using the XFS filesystem. The ext3 filesystem just has too &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:21.8583em;"><span class="stl_154 stl_32 stl_114" style="word-spacing:0.0742em;">many serious limitations, such as its single mutex per inode, and bad behavior, such &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:22.9577em;z-index:689;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0147em;">as flushing all dirty blocks in the whole filesystem on </span><span class="stl_170 stl_171 stl_28">fsync(</span><span class="stl_170 stl_171 stl_262">)</span><span class="stl_154 stl_32 stl_43" style="word-spacing:0.022em;">instead of just one file</span><span class="stl_154 stl_32 stl_34">’</span><span class="stl_154 stl_32 stl_34">s &nbsp;</span></div>
					<div class="stl_01" style="left:6.0004em;top:24.0077em;"><span class="stl_154 stl_32 stl_158" style="word-spacing:0.1361em;">dirty blocks. The ext4 filesystem is an acceptable choice, although there have been &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:25.0577em;"><span class="stl_154 stl_32 stl_95" style="word-spacing:0.0116em;">performance bottlenecks in specific kernel versions that you should investigate before &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:26.1077em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0em;">committing to it. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:27.6577em;z-index:896;"><span class="stl_154 stl_32 stl_36" style="word-spacing:0.0393em;">When considering any filesystem for a database, it</span><span class="stl_154 stl_32 stl_34">’</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0355em;">s </span><span class="stl_154 stl_32 stl_28">g</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0355em;">ood to consider how long it has &nbsp;</span></div>
					<div class="stl_01" style="left:5.9996em;top:28.7077em;"><span class="stl_154 stl_32 stl_57" style="word-spacing:0.0574em;">been available, how mature it is, and how proven it has been in production environ‐ &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:29.7577em;"><span class="stl_154 stl_32 stl_95" style="word-spacing:0.1417em;">ments. The filesystem bits are the very lowest level of data integrity you have in a &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:30.8077em;"><span class="stl_154 stl_32 stl_38">database. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:32.692em;"><span class="stl_180 stl_27 stl_28" style="word-spacing:0em;">Choosing a Disk Queue Scheduler &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:34.5918em;"><span class="stl_154 stl_32 stl_140" style="word-spacing:0.1565em;">On GNU/Linux, the queue scheduler determines the order in which requests to a &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:35.6418em;"><span class="stl_154 stl_32 stl_46" style="word-spacing:0.0196em;">block device are actually sent to the underlying device. The default is Completely Fair &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:36.7298em;"><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0529em;">Queuing, or </span><span class="stl_170 stl_171 stl_28">cfq</span><span class="stl_154 stl_32 stl_85" style="word-spacing:0.0626em;">. It’s okay for casual use on laptops and desktops, where it helps </span><span class="stl_155 stl_41 stl_243">pre‐ &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:37.7798em;z-index:1331;"><span class="stl_155 stl_41 stl_86" style="word-spacing:0.1652em;">vent </span><span class="stl_154 stl_32 stl_57" style="word-spacing:0.1519em;">I/O starvation, but it</span><span class="stl_154 stl_32 stl_34">’</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.1498em;">s </span><span class="stl_154 stl_32 stl_28">t</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.1498em;">errible for servers. It causes very poor response times &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:38.8412em;"><span class="stl_154 stl_32 stl_77" style="word-spacing:0.0574em;">under the types of workload that MySQL generates because it stalls some requests in &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:39.8912em;z-index:1468;"><span class="stl_154 stl_32 stl_108" style="word-spacing:0.0091em;">the queue needlessly. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:41.4412em;z-index:1470;"><span class="stl_154 stl_32 stl_109">Y</span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_158" style="word-spacing:0.023em;">u can see which schedulers are available and which one is active with the following &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:42.4912em;"><span class="stl_154 stl_32 stl_28">command: &nbsp;</span></div>
					<div class="stl_01" style="left:7.4164em;top:44.2531em;"><span class="stl_200 stl_171 stl_28">$ </span><span class="stl_265 stl_173 stl_28">cat /sys/block/sda/queue/scheduler &nbsp;</span></div>
					<div class="stl_01" style="left:7.4164em;top:45.1038em;"><span class="stl_200 stl_171 stl_28">noop deadline [cfq] &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:46.2907em;z-index:1600;"><span class="stl_154 stl_32 stl_109">Y</span><span class="stl_154 stl_32 stl_28">o</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0.0695em;">u should replace </span><span class="stl_174 stl_175 stl_28" style="word-spacing:-0.1879em;">sda </span><span class="stl_154 stl_32 stl_123" style="word-spacing:0.0747em;">with the device name of the disk you’re interested in. In our &nbsp;</span></div>
					<div class="stl_01" style="left:5.9999em;top:47.3407em;"><span class="stl_154 stl_32 stl_78" style="word-spacing:0.0999em;">example, the square brackets indicate which scheduler is in use for this device. The &nbsp;</span></div>
					<div class="stl_01" style="left:28.3139em;top:50.8098em;"><span class="stl_80 stl_27 stl_28" style="word-spacing:0em;">Choosing a Filesystem &nbsp;</span></div>
					<div class="stl_01" style="left:34.4804em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">|</span></div>
					<div class="stl_01" style="left:35.3879em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">89 &nbsp;</span></div>
					<a name="111_0" style="position:absolute;left:0em;top:32.9851em;">&nbsp;</a>
					<a name="111_1" style="position:absolute;left:0em;top:6.55em;">&nbsp;</a>
					<a name="111_2" style="position:absolute;left:0em;top:35.871em;">&nbsp;</a>
					<a name="111_3" style="position:absolute;left:0em;top:34.821em;">&nbsp;</a>
					<a name="111_4" style="position:absolute;left:0em;top:4.5458em;">&nbsp;</a>
					<a name="111_5" style="position:absolute;left:0em;top:21.0375em;">&nbsp;</a>
				</div>
			</div>
		</div>
	</body>
</html>