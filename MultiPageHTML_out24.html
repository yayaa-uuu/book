<!DOCTYPE html><!--[if IE]>  <html class="stl_ie"> <![endif]-->
<html>
	<head>
		<meta charset="utf-8" />
		<title>
		</title>
		<link rel="stylesheet" type="text/css" href="MultiPageHTML_out_files/style.css" />
	</head>
	<body>
		<div class="stl_ stl_02">
			<div class="stl_03">
				<object data="MultiPageHTML_out_files/img_29.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:42em; height:55.0833em;">
					<embed src="MultiPageHTML_out_files/img_29.svg" type="image/svg+xml" />
				</object>
			</div>
			<div class="stl_view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="left:5.9998em;top:4.3166em;"><span class="stl_154 stl_32 stl_158" style="word-spacing:0.0546em;">cates with them through the storage engine API. This API hides differences between &nbsp;</span></div>
					<div class="stl_01" style="left:5.9996em;top:5.3666em;"><span class="stl_154 stl_32 stl_84" style="word-spacing:0.1238em;">storage engines and makes them largely transparent at the query layer. It also con‐ &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:6.4166em;"><span class="stl_154 stl_32 stl_78" style="word-spacing:0.0636em;">tains a couple of dozen low-level functions that perform operations such as “begin a &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:7.4666em;z-index:548;"><span class="stl_154 stl_32 stl_108" style="word-spacing:0.1225em;">transaction” or “fetch the row that has this primary key</span><span class="stl_154 stl_32 stl_161">.</span><span class="stl_154 stl_32 stl_153" style="word-spacing:0.1262em;">” The storage engines don’t &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:8.5166em;"><span class="stl_154 stl_32 stl_117" style="word-spacing:0.0512em;">parse SQL</span><sup style="top: -0.2917em;"><a href="MultiPageHTML_out24.html#24_2"><span class="stl_166 stl_32 stl_28" style="word-spacing:0.2601em;">1 </span></a></sup><span class="stl_154 stl_32 stl_78" style="word-spacing:0.0527em;">or communicate with one another; they simply respond to requests from &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:9.5666em;z-index:649;"><span class="stl_154 stl_32 stl_17" style="word-spacing:0.0085em;">the server. &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:26.2811em;"><span class="stl_155 stl_41 stl_153" style="word-spacing:0.0128em;">Figure 1-1. A logical view of the MySQL server architecture &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:28.1912em;"><span class="stl_180 stl_27 stl_28" style="word-spacing:0em;">Connection Management and Security &nbsp;</span></div>
					<div class="stl_01" style="left:5.9998em;top:30.0909em;"><span class="stl_154 stl_32 stl_87" style="word-spacing:0.0627em;">By default, each client connection gets its own thread within the server process. The &nbsp;</span></div>
					<div class="stl_01" style="left:5.9996em;top:31.1409em;"><span class="stl_154 stl_32 stl_132" style="word-spacing:0.099em;">connection’s queries execute within that single thread, which in turn resides on one &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:32.1909em;"><span class="stl_154 stl_32 stl_99" style="word-spacing:0.0132em;">core or CPU. The server maintains a cache of ready-to-use threads, so they don’t need &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:33.2409em;"><span class="stl_154 stl_32 stl_88" style="word-spacing:0.0011em;">to be created and destroyed for each new connection.</span><sup style="top: -0.2917em;"><a href="MultiPageHTML_out24.html#24_3"><span class="stl_166 stl_32 stl_95" style="word-spacing:0.0018em;">2 &nbsp;</span></a></sup></div>
					<div class="stl_01" style="left:6.0002em;top:34.7909em;"><span class="stl_154 stl_32 stl_36" style="word-spacing:0.0125em;">When clients (applications) connect to the MySQL server, the server needs to authen‐ &nbsp;</span></div>
					<div class="stl_01" style="left:6.0002em;top:35.8409em;"><span class="stl_154 stl_32 stl_36" style="word-spacing:0.0404em;">ticate them. Authentication is based on username, originating host, and password. X. &nbsp;</span></div>
					<div class="stl_01" style="left:6em;top:36.8909em;"><span class="stl_154 stl_32 stl_54" style="word-spacing:0.0586em;">509 certificates can also be used across a Transport Layer Security (TLS) connection. &nbsp;</span></div>
					<div class="stl_01" style="left:5.9997em;top:37.9409em;"><span class="stl_154 stl_32 stl_87" style="word-spacing:0.0894em;">Once a client has connected, the server verifies whether the client has privileges for &nbsp;</span></div>
					<div class="stl_01" style="left:6.0003em;top:39.0404em;"><span class="stl_154 stl_32 stl_37" style="word-spacing:0.1214em;">each query it issues (e.g., whether the client is allowed to issue a </span><span class="stl_170 stl_171 stl_28" style="word-spacing:-0.1328em;">SELECT </span><span class="stl_154 stl_32 stl_183">statement &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:40.1398em;"><span class="stl_154 stl_32 stl_77" style="word-spacing:0.0032em;">that accesses the </span><span class="stl_170 stl_171 stl_28">Countr</span><span class="stl_170 stl_171 stl_186">y</span><span class="stl_154 stl_32 stl_28" style="word-spacing:0em;">table in the </span><span class="stl_170 stl_171 stl_28">worl</span><span class="stl_170 stl_171 stl_186">d</span><span class="stl_154 stl_32 stl_33">database). &nbsp;</span></div>
					<div class="stl_01" style="left:6.095em;top:45.5203em;"><span class="stl_167 stl_32 stl_28">1</span></div>
					<div class="stl_01" style="left:6.0952em;top:47.4369em;"><span class="stl_167 stl_32 stl_28">2</span></div>
					<div class="stl_01" style="left:6.6667em;top:45.4378em;"><span class="stl_168 stl_32 stl_72" style="word-spacing:0.0044em;">One exception is InnoDB, which does parse foreign key definitions because the MySQL server doesn’t yet &nbsp;</span></div>
					<div class="stl_01" style="left:6.6667em;top:46.2712em;"><span class="stl_168 stl_32 stl_72" style="word-spacing:0.0045em;">implement them itself. &nbsp;</span></div>
					<div class="stl_01" style="left:6.6667em;top:47.3545em;"><span class="stl_168 stl_32 stl_78" style="word-spacing:0.0015em;">MySQL 5.5 and newer versions support an API that can accept thread-pooling plug-ins, though not com‐ &nbsp;</span></div>
					<div class="stl_01" style="left:6.6667em;top:48.1878em;"><span class="stl_168 stl_32 stl_53" style="word-spacing:0.0012em;">monly used. The common practice for thread pooling is done at access layers, which we discuss in </span><a href="MultiPageHTML_out121.html#121_0"><span class="stl_187 stl_32 stl_24" style="word-spacing:0.0054em;">Chapter 5</span></a><span class="stl_168 stl_32 stl_24" style="word-spacing:0.0054em;">. &nbsp;</span></div>
					<div class="stl_01" style="left:6.0001em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">2</span></div>
					<div class="stl_01" style="left:7.0561em;top:50.8098em;"><span class="stl_80 stl_27 stl_28">|</span></div>
					<div class="stl_01" style="left:7.9636em;top:50.8098em;"><span class="stl_80 stl_27 stl_28" style="word-spacing:0em;">Chapter 1: MySQL Architecture &nbsp;</span></div>
					<a name="24_0" style="position:absolute;left:0em;top:28.4842em;">&nbsp;</a>
					<a name="24_1" style="position:absolute;left:0em;top:11.2583em;">&nbsp;</a>
					<a name="24_2" style="position:absolute;left:0em;top:45.5292em;">&nbsp;</a>
					<a name="24_3" style="position:absolute;left:0em;top:47.4458em;">&nbsp;</a>
					<a name="24_4" style="position:absolute;left:0em;top:35.0202em;">&nbsp;</a>
					<a name="24_5" style="position:absolute;left:0em;top:30.3202em;">&nbsp;</a>
				</div>
			</div>
		</div>
	</body>
</html>